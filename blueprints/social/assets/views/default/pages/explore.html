{{define "title"}}Explore - Social{{end}}

{{template "base" .}}

{{define "content"}}
<div class="page explore-page">
    <header class="page-header">
        <h1>Explore</h1>
    </header>

    <section class="trending-section">
        <h2>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M19 17v4"/><path d="M3 5h4"/><path d="M17 19h4"/></svg>
            Trending Tags
        </h2>
        <div class="trending-tags" id="trending-tags">
            {{range .TrendingTags}}
            <a href="/tags/{{.Name}}" class="trending-tag">
                <span class="tag-name">#{{.Name}}</span>
                <span class="tag-count">{{.PostsCount}} posts</span>
            </a>
            {{else}}
            <p class="empty-inline">No trending tags right now</p>
            {{end}}
        </div>
    </section>

    <section class="trending-section">
        <h2>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/></svg>
            Trending Posts
        </h2>
    </section>

    <div class="timeline" id="trending-posts">
        {{range .TrendingPosts}}
        <article class="post" onclick="window.location='/posts/{{.ID}}'">
            <div class="post-avatar">
                {{with .Account}}
                <a href="/@{{.Username}}" onclick="event.stopPropagation()">
                    <img src="{{if .AvatarURL}}{{.AvatarURL}}{{else}}/static/images/default-avatar.png{{end}}" alt="{{.DisplayName}}" loading="lazy">
                </a>
                {{end}}
            </div>
            <div class="post-content">
                <div class="post-header">
                    {{with .Account}}
                    <a href="/@{{.Username}}" class="display-name" onclick="event.stopPropagation()">{{.DisplayName}}</a>
                    <span class="username">@{{.Username}}</span>
                    {{end}}
                </div>
                <div class="post-body">{{.Content}}</div>
                <div class="post-actions" onclick="event.stopPropagation()">
                    <button class="action reply" data-id="{{.ID}}" title="Reply">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
                        <span class="count">{{if .RepliesCount}}{{.RepliesCount}}{{end}}</span>
                    </button>
                    <button class="action repost" data-id="{{.ID}}" title="Repost">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m17 2 4 4-4 4"/><path d="M3 11v-1a4 4 0 0 1 4-4h14"/><path d="m7 22-4-4 4-4"/><path d="M21 13v1a4 4 0 0 1-4 4H3"/></svg>
                        <span class="count">{{if .RepostsCount}}{{.RepostsCount}}{{end}}</span>
                    </button>
                    <button class="action like" data-id="{{.ID}}" title="Like">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
                        <span class="count">{{if .LikesCount}}{{.LikesCount}}{{end}}</span>
                    </button>
                    <button class="action bookmark" data-id="{{.ID}}" title="Bookmark">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"/></svg>
                    </button>
                </div>
            </div>
        </article>
        {{else}}
        <div class="empty">
            <div class="icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"/></svg>
            </div>
            <h3>Nothing trending yet</h3>
            <p>Be the first to start a conversation!</p>
        </div>
        {{end}}
    </div>
</div>
{{end}}
