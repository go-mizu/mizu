import{j as e}from"./markdown-DRpjVqyA.js";import{a as v,r,L as d}from"./react-vendor-DqWpB-k-.js";import{a as $,S as w}from"./index-Di8JkMG2.js";import{F as C,U as S,M as z,g as y,S as p,h as M,i as q,I,V as A,N as E,j as L,C as R}from"./ui-DWjFbB9d.js";const m=[{tab:"science",label:"Science",icon:C},{tab:"social",label:"Social",icon:S},{tab:"music",label:"Music",icon:z},{tab:"maps",label:"Maps",icon:y}];function O({query:x,activeTab:i,onSearch:h,tabsRight:b,belowTabs:j}){const t=v(),{aiAvailable:u}=$(),[n,o]=r.useState(!1),l=r.useRef(null);r.useEffect(()=>{const s=a=>{l.current&&!l.current.contains(a.target)&&o(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const g=s=>{h?h(s):t(`/search?q=${encodeURIComponent(s)}`)},c=s=>{const a=encodeURIComponent(x);switch(o(!1),s){case"all":t(`/search?q=${a}`);break;case"ai":t(`/ai?q=${a}`);break;case"images":t(`/images?q=${a}`);break;case"videos":t(`/videos?q=${a}`);break;case"news":t(`/news?q=${a}`);break;case"code":t(`/code?q=${a}`);break;case"science":t(`/science?q=${a}`);break;case"social":t(`/social?q=${a}`);break;case"music":t(`/music?q=${a}`);break;case"maps":t(`/maps?q=${a}`);break}},f=m.some(s=>s.tab===i),N=m.find(s=>s.tab===i)?.label;return e.jsxs("header",{className:"sticky top-0 bg-white z-50 border-b border-[#e8eaed]",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(d,{to:"/",className:"flex-shrink-0",children:e.jsx("span",{className:"text-2xl font-semibold text-[#202124] tracking-tight",children:"Mizu"})}),e.jsx("div",{className:"flex-1 max-w-xl",children:e.jsx(w,{initialValue:x,size:"sm",onSearch:g})}),e.jsxs("div",{className:"flex items-center gap-1",children:[u&&e.jsx(d,{to:"/ai/sessions",className:"p-2 text-[#5f6368] hover:bg-[#f1f3f4] rounded-full transition-colors",title:"AI Sessions",children:e.jsx(p,{size:20})}),e.jsx(d,{to:"/settings",className:"p-2 text-[#5f6368] hover:bg-[#f1f3f4] rounded-full transition-colors",title:"Settings",children:e.jsx(M,{size:20})})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("div",{className:"search-tabs",style:{paddingLeft:0},children:[e.jsxs("button",{type:"button",className:`search-tab ${i==="all"?"active":""}`,onClick:()=>c("all"),children:[e.jsx(q,{size:16}),"All"]}),u&&e.jsxs("button",{type:"button",className:`search-tab ${i==="ai"?"active":""}`,onClick:()=>c("ai"),children:[e.jsx(p,{size:16}),"AI"]}),e.jsxs("button",{type:"button",className:`search-tab ${i==="images"?"active":""}`,onClick:()=>c("images"),children:[e.jsx(I,{size:16}),"Images"]}),e.jsxs("button",{type:"button",className:`search-tab ${i==="videos"?"active":""}`,onClick:()=>c("videos"),children:[e.jsx(A,{size:16}),"Videos"]}),e.jsxs("button",{type:"button",className:`search-tab ${i==="news"?"active":""}`,onClick:()=>c("news"),children:[e.jsx(E,{size:16}),"News"]}),e.jsxs("button",{type:"button",className:`search-tab ${i==="code"?"active":""}`,onClick:()=>c("code"),children:[e.jsx(L,{size:16}),"Code"]}),e.jsxs("div",{className:"relative inline-flex",ref:l,children:[e.jsxs("button",{type:"button",className:`search-tab ${f?"active":""}`,onClick:()=>o(!n),children:[f?N:"More",e.jsx(R,{size:14,className:`transition-transform ${n?"rotate-180":""}`})]}),n&&e.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white rounded-lg shadow-lg border border-[#e8eaed] py-1 z-50 min-w-[160px]",children:m.map(({tab:s,label:a,icon:k})=>e.jsxs("button",{type:"button",className:`flex items-center gap-2 w-full px-4 py-2 text-sm transition-colors ${i===s?"text-[#1a73e8] bg-[#e8f0fe]":"text-[#5f6368] hover:bg-[#f1f3f4]"}`,onClick:()=>c(s),children:[e.jsx(k,{size:16}),a]},s))})]})]}),b&&e.jsx("div",{className:"flex items-center gap-2",children:b})]})]}),j]})}export{O as S};
