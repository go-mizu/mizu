# Fineweb Search Driver Benchmark Report

**Date:** 2026-01-28 08:27:55
**Duration:** 1m40s
**System:** darwin arm64, 10 CPUs, 17.89 MB RAM
**Go Version:** go1.25.6
**Drivers Tested:** 5

## Executive Summary

| Category | Winner |
|----------|--------|
| Lowest Latency (p50) | fts_speed (p50=304µs) |
| Highest Single-Thread QPS | fts_speed (2447 QPS) |
| Fastest Indexing | fts_speed (5955 docs/sec) |
| Smallest Index Size | fts_compact (90.41 MB) |
| Best Scalability | fts_balanced (6.0x scaling) |

## Performance Summary

| Driver | Type | Index Time | Index Size | p50 | p95 | p99 | QPS (1) | QPS (10) | QPS (max) |
|--------|------|------------|------------|-----|-----|-----|---------|----------|----------|
| fts_speed | embedded | 5s | 203.34 MB | 304µs | 1.125ms | 1.266ms | 2447 | 9370 | 9370 |
| fts_compact | embedded | 5s | 90.41 MB | 1.566ms | 5.286ms | 6.302ms | 444 | 2299 | 2348 |
| fts_balanced | embedded | 6s | 215.53 MB | 407µs | 1.769ms | 2.684ms | 1850 | 11074 | 11074 |
| fts_production | embedded | 5s | 148.57 MB | 564µs | 2.301ms | 3.908ms | 1266 | 5150 | 5150 |
| porter | embedded | 27s | 592.96 MB | 555µs | 2.705ms | 3.194ms | 965 | 3670 | 3670 |

## Indexing Performance

| Driver | Duration | Docs/sec | Peak Memory | Total Docs |
|--------|----------|----------|-------------|------------|
| fts_speed | 5s | 5955 | 1.00 GB | 28276 |
| fts_compact | 5s | 5229 | 654.38 MB | 28276 |
| fts_balanced | 6s | 4624 | 1.04 GB | 28276 |
| fts_production | 5s | 5239 | 771.58 MB | 28276 |
| porter | 27s | 1058 | 1.81 GB | 28276 |

## Latency Distribution

| Driver | Min | Avg | p50 | p95 | p99 | Max |
|--------|-----|-----|-----|-----|-----|-----|
| fts_speed | 3µs | 401µs | 304µs | 1.125ms | 1.266ms | 1.282ms |
| fts_compact | 224µs | 2.292ms | 1.566ms | 5.286ms | 6.302ms | 6.9ms |
| fts_balanced | 3µs | 634µs | 407µs | 1.769ms | 2.684ms | 2.781ms |
| fts_production | 73µs | 829µs | 564µs | 2.301ms | 3.908ms | 4.839ms |
| porter | 7µs | 1.023ms | 555µs | 2.705ms | 3.194ms | 3.454ms |

## Scalability Analysis (QPS by Concurrency)

| Driver | 10 | 20 | 40 | 80 | Scaling |
|--------|------|------|------|------|---------|
| fts_speed | 9370 | 8636 | 8428 | 7934 | 1.2x |
| fts_compact | 2299 | 2348 | 2252 | 2324 | 1.0x |
| fts_balanced | 11074 | 11056 | 10656 | 10850 | 1.0x |
| fts_production | 5150 | 4751 | 4904 | 4712 | 1.1x |
| porter | 3670 | 3459 | 3413 | 2898 | 1.3x |


## Detailed Results

### fts_speed

#### Indexing

- Duration: 5s
- Documents: 28276
- Throughput: 5955 docs/sec
- Peak Memory: 1.00 GB

#### Index Size

- Size: 203.34 MB

#### Search Latency

| Percentile | Latency |
|------------|--------|
| p50 | 304µs |
| p95 | 1.125ms |
| p99 | 1.266ms |
| max | 1.282ms |
| avg | 401µs |

#### Throughput by Concurrency

| Goroutines | QPS |
|------------|-----|
| 10 | 9370 |
| 20 | 8636 |
| 40 | 8428 |
| 80 | 7934 |

#### Memory Usage

- Indexing Peak: 1.00 GB


### fts_compact

#### Indexing

- Duration: 5s
- Documents: 28276
- Throughput: 5229 docs/sec
- Peak Memory: 654.38 MB

#### Index Size

- Size: 90.41 MB

#### Search Latency

| Percentile | Latency |
|------------|--------|
| p50 | 1.566ms |
| p95 | 5.286ms |
| p99 | 6.302ms |
| max | 6.9ms |
| avg | 2.292ms |

#### Throughput by Concurrency

| Goroutines | QPS |
|------------|-----|
| 10 | 2299 |
| 20 | 2348 |
| 40 | 2252 |
| 80 | 2324 |

#### Memory Usage

- Indexing Peak: 654.38 MB


### fts_balanced

#### Indexing

- Duration: 6s
- Documents: 28276
- Throughput: 4624 docs/sec
- Peak Memory: 1.04 GB

#### Index Size

- Size: 215.53 MB

#### Search Latency

| Percentile | Latency |
|------------|--------|
| p50 | 407µs |
| p95 | 1.769ms |
| p99 | 2.684ms |
| max | 2.781ms |
| avg | 634µs |

#### Throughput by Concurrency

| Goroutines | QPS |
|------------|-----|
| 10 | 11074 |
| 20 | 11056 |
| 40 | 10656 |
| 80 | 10850 |

#### Memory Usage

- Indexing Peak: 1.04 GB


### fts_production

#### Indexing

- Duration: 5s
- Documents: 28276
- Throughput: 5239 docs/sec
- Peak Memory: 771.58 MB

#### Index Size

- Size: 148.57 MB

#### Search Latency

| Percentile | Latency |
|------------|--------|
| p50 | 564µs |
| p95 | 2.301ms |
| p99 | 3.908ms |
| max | 4.839ms |
| avg | 829µs |

#### Throughput by Concurrency

| Goroutines | QPS |
|------------|-----|
| 10 | 5150 |
| 20 | 4751 |
| 40 | 4904 |
| 80 | 4712 |

#### Memory Usage

- Indexing Peak: 771.58 MB


### porter

#### Indexing

- Duration: 27s
- Documents: 28276
- Throughput: 1058 docs/sec
- Peak Memory: 1.81 GB

#### Index Size

- Size: 592.96 MB

#### Search Latency

| Percentile | Latency |
|------------|--------|
| p50 | 555µs |
| p95 | 2.705ms |
| p99 | 3.194ms |
| max | 3.454ms |
| avg | 1.023ms |

#### Throughput by Concurrency

| Goroutines | QPS |
|------------|-----|
| 10 | 3670 |
| 20 | 3459 |
| 40 | 3413 |
| 80 | 2898 |

#### Memory Usage

- Indexing Peak: 1.81 GB

## Vietnamese Language Support

| Driver | Tokenizer | Stemmer | Diacritics | Notes |
|--------|-----------|---------|------------|-------|
| duckdb | Basic | None | Preserved | Uses FTS extension |
| sqlite | Unicode61 | None | Preserved | FTS5 virtual table |
| bleve | ICU Vietnamese | None | Preserved | Best Vietnamese support |
| bluge | Shared Vietnamese | None | Preserved | Custom tokenizer |
| tantivy | Vietnamese | None | Preserved | Requires CGO |
| meilisearch | Auto-detect | None | Preserved | Good Unicode handling |
| zinc | Basic | None | Preserved | Bluge-based |
| porter | Shared Vietnamese | Porter (English) | Preserved | Custom inverted index |
| opensearch | ICU | None | Preserved | Plugin required |
| elasticsearch | ICU | None | Preserved | Plugin required |
| postgres | Simple | None | Preserved | tsvector + GIN |
| typesense | Unicode | None | Preserved | Good typo tolerance |
| manticore | Charset table | None | Preserved | SQL interface |
| quickwit | Default | None | Preserved | Cloud-native |
| lnx | Raw | None | Preserved | Tantivy REST |
| sonic | Basic | None | Preserved | ID-only storage |

## Driver Categories

### Embedded (No External Dependencies)
- **duckdb**: Analytical database with FTS, great for batch processing
- **sqlite**: Lightweight, ACID-compliant, perfect for single-user apps
- **bleve**: Full-featured search library with excellent Vietnamese support
- **bluge**: Modern Bleve successor, better performance
- **porter**: Custom inverted index with Porter stemming

### External Services (Docker Required)
- **meilisearch**: Developer-friendly, instant search, typo tolerance
- **zinc**: Lightweight Elasticsearch alternative
- **opensearch**: AWS fork, enterprise-ready, scalable
- **elasticsearch**: Industry standard, most features
- **postgres**: Full-text search in your existing database
- **typesense**: Fast, typo-tolerant, simple API
- **manticore**: SQL interface, very fast indexing
- **quickwit**: Cloud-native, designed for logs
- **lnx**: Tantivy via REST, no CGO needed
- **sonic**: Ultra-fast search index layer

## Recommendations

Based on benchmark results:

### Performance Leaders
- **Lowest Latency:** fts_speed (p50=304µs)
- **Best Throughput:** fts_speed (2447 QPS)
- **Fastest Indexing:** fts_speed (5955 docs/sec)
- **Smallest Index:** fts_compact (90.41 MB)

### Use Case Recommendations
- **Simple embedded search:** sqlite (no dependencies, ACID)
- **High-performance embedded:** bluge or porter
- **Developer-friendly SaaS-like:** meilisearch or typesense
- **Enterprise distributed:** elasticsearch or opensearch
- **Existing PostgreSQL stack:** postgres (no new infra)
- **Maximum indexing speed:** manticore
- **Minimum memory footprint:** sonic
- **Cloud-native logs/traces:** quickwit

---
*Report generated by fineweb benchmark suite*
