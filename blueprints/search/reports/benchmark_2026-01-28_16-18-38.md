# Fineweb Search Driver Benchmark Report

**Date:** 2026-01-28 16:09:13
**Duration:** 9m25s
**System:** darwin arm64, 10 CPUs, 17.89 MB RAM
**Go Version:** go1.25.6
**Drivers Tested:** 4

## Executive Summary

| Category | Winner |
|----------|--------|
| Lowest Latency (p50) | fts_production (p50=183µs) |
| Highest Single-Thread QPS | fts_production (1797 QPS) |
| Fastest Indexing | fts_balanced (23121 docs/sec) |
| Smallest Index Size | fts_compact (1.93 GB) |
| Best Scalability | fts_compact (7.3x scaling) |

## Performance Summary

| Driver | Type | Index Time | Index Size | p50 | p95 | p99 | QPS (1) | QPS (10) | QPS (max) |
|--------|------|------------|------------|-----|-----|-----|---------|----------|----------|
| fts_speed | embedded | 1m50s | 4.53 GB | 40.689ms | 559.4ms | 651.085ms | 30 | 20 | 111 |
| fts_balanced | embedded | 1m40s | 3.88 GB | 23.532ms | 97.751ms | 122.011ms | 30 | 188 | 188 |
| fts_compact | embedded | 1m56s | 1.93 GB | 69.488ms | 433.429ms | 685.348ms | 6 | 15 | 40 |
| fts_production | embedded | - | 4.21 GB | 183µs | 13.428ms | 16.186ms | 1797 | 9228 | 10786 |

## Indexing Performance

| Driver | Duration | Docs/sec | Peak Memory | Total Docs |
|--------|----------|----------|-------------|------------|
| fts_speed | 1m50s | 21019 | 19.50 GB | 2319000 |
| fts_balanced | 1m40s | 23121 | 19.19 GB | 2319000 |
| fts_compact | 1m56s | 19969 | 14.43 GB | 2319000 |

## Latency Distribution

| Driver | Min | Avg | p50 | p95 | p99 | Max |
|--------|-----|-----|-----|-----|-----|-----|
| fts_speed | 4µs | 149.063ms | 40.689ms | 559.4ms | 651.085ms | 700.049ms |
| fts_balanced | 35µs | 38.651ms | 23.532ms | 97.751ms | 122.011ms | 230.563ms |
| fts_compact | 110µs | 165.388ms | 69.488ms | 433.429ms | 685.348ms | 826.231ms |
| fts_production | 21µs | 2.6ms | 183µs | 13.428ms | 16.186ms | 19.71ms |

## Scalability Analysis (QPS by Concurrency)

| Driver | 10 | 20 | 40 | 80 | Scaling |
|--------|------|------|------|------|---------|
| fts_speed | 20 | 62 | 90 | 111 | 5.5x |
| fts_balanced | 188 | 120 | 18 | 182 | 10.5x |
| fts_compact | 15 | 28 | 20 | 40 | 2.7x |
| fts_production | 9228 | 10429 | 8754 | 10786 | 1.2x |


## Detailed Results

### fts_speed

#### Indexing

- Duration: 1m50s
- Documents: 2319000
- Throughput: 21019 docs/sec
- Peak Memory: 19.50 GB

#### Index Size

- Size: 4.53 GB

#### Search Latency

| Percentile | Latency |
|------------|--------|
| p50 | 40.689ms |
| p95 | 559.4ms |
| p99 | 651.085ms |
| max | 700.049ms |
| avg | 149.063ms |

#### Throughput by Concurrency

| Goroutines | QPS |
|------------|-----|
| 10 | 20 |
| 20 | 62 |
| 40 | 90 |
| 80 | 111 |

#### Memory Usage

- Indexing Peak: 19.50 GB


### fts_balanced

#### Indexing

- Duration: 1m40s
- Documents: 2319000
- Throughput: 23121 docs/sec
- Peak Memory: 19.19 GB

#### Index Size

- Size: 3.88 GB

#### Search Latency

| Percentile | Latency |
|------------|--------|
| p50 | 23.532ms |
| p95 | 97.751ms |
| p99 | 122.011ms |
| max | 230.563ms |
| avg | 38.651ms |

#### Throughput by Concurrency

| Goroutines | QPS |
|------------|-----|
| 10 | 188 |
| 20 | 120 |
| 40 | 18 |
| 80 | 182 |

#### Memory Usage

- Indexing Peak: 19.19 GB


### fts_compact

#### Indexing

- Duration: 1m56s
- Documents: 2319000
- Throughput: 19969 docs/sec
- Peak Memory: 14.43 GB

#### Index Size

- Size: 1.93 GB

#### Search Latency

| Percentile | Latency |
|------------|--------|
| p50 | 69.488ms |
| p95 | 433.429ms |
| p99 | 685.348ms |
| max | 826.231ms |
| avg | 165.388ms |

#### Throughput by Concurrency

| Goroutines | QPS |
|------------|-----|
| 10 | 15 |
| 20 | 28 |
| 40 | 20 |
| 80 | 40 |

#### Memory Usage

- Indexing Peak: 14.43 GB


### fts_production

#### Index Size

- Size: 4.21 GB

#### Search Latency

| Percentile | Latency |
|------------|--------|
| p50 | 183µs |
| p95 | 13.428ms |
| p99 | 16.186ms |
| max | 19.71ms |
| avg | 2.6ms |

#### Throughput by Concurrency

| Goroutines | QPS |
|------------|-----|
| 10 | 9228 |
| 20 | 10429 |
| 40 | 8754 |
| 80 | 10786 |

## Vietnamese Language Support

| Driver | Tokenizer | Stemmer | Diacritics | Notes |
|--------|-----------|---------|------------|-------|
| duckdb | Basic | None | Preserved | Uses FTS extension |
| sqlite | Unicode61 | None | Preserved | FTS5 virtual table |
| bleve | ICU Vietnamese | None | Preserved | Best Vietnamese support |
| bluge | Shared Vietnamese | None | Preserved | Custom tokenizer |
| tantivy | Vietnamese | None | Preserved | Requires CGO |
| meilisearch | Auto-detect | None | Preserved | Good Unicode handling |
| zinc | Basic | None | Preserved | Bluge-based |
| porter | Shared Vietnamese | Porter (English) | Preserved | Custom inverted index |
| opensearch | ICU | None | Preserved | Plugin required |
| elasticsearch | ICU | None | Preserved | Plugin required |
| postgres | Simple | None | Preserved | tsvector + GIN |
| typesense | Unicode | None | Preserved | Good typo tolerance |
| manticore | Charset table | None | Preserved | SQL interface |
| quickwit | Default | None | Preserved | Cloud-native |
| lnx | Raw | None | Preserved | Tantivy REST |
| sonic | Basic | None | Preserved | ID-only storage |

## Driver Categories

### Embedded (No External Dependencies)
- **duckdb**: Analytical database with FTS, great for batch processing
- **sqlite**: Lightweight, ACID-compliant, perfect for single-user apps
- **bleve**: Full-featured search library with excellent Vietnamese support
- **bluge**: Modern Bleve successor, better performance
- **porter**: Custom inverted index with Porter stemming

### External Services (Docker Required)
- **meilisearch**: Developer-friendly, instant search, typo tolerance
- **zinc**: Lightweight Elasticsearch alternative
- **opensearch**: AWS fork, enterprise-ready, scalable
- **elasticsearch**: Industry standard, most features
- **postgres**: Full-text search in your existing database
- **typesense**: Fast, typo-tolerant, simple API
- **manticore**: SQL interface, very fast indexing
- **quickwit**: Cloud-native, designed for logs
- **lnx**: Tantivy via REST, no CGO needed
- **sonic**: Ultra-fast search index layer

## Recommendations

Based on benchmark results:

### Performance Leaders
- **Lowest Latency:** fts_production (p50=183µs)
- **Best Throughput:** fts_production (1797 QPS)
- **Fastest Indexing:** fts_balanced (23121 docs/sec)
- **Smallest Index:** fts_compact (1.93 GB)

### Use Case Recommendations
- **Simple embedded search:** sqlite (no dependencies, ACID)
- **High-performance embedded:** bluge or porter
- **Developer-friendly SaaS-like:** meilisearch or typesense
- **Enterprise distributed:** elasticsearch or opensearch
- **Existing PostgreSQL stack:** postgres (no new infra)
- **Maximum indexing speed:** manticore
- **Minimum memory footprint:** sonic
- **Cloud-native logs/traces:** quickwit

---
*Report generated by fineweb benchmark suite*
