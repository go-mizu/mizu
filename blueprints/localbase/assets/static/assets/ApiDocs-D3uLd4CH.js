import{j as e,S as o,t as x,G as r,T as i,X as l,g as j,d as u,A as m,aa as t,a as n,B as T}from"./vendor-mantine-BXMqcLry.js";import{P}from"./PageContainer-QI0M3bfS.js";import{r as E,G as v,H as b}from"./vendor-icons-q9-fAAJw.js";import"./vendor-react-CFPnf9wS.js";function s({method:a,path:c,description:d,example:h}){const g={GET:"blue",POST:"green",PUT:"orange",PATCH:"yellow",DELETE:"red"};return e.jsxs(T,{p:"sm",style:{borderBottom:"1px solid var(--supabase-border)"},children:[e.jsxs(r,{gap:"sm",mb:"xs",children:[e.jsx(n,{size:"sm",variant:"filled",color:g[a],children:a}),e.jsx(l,{style:{flex:1},children:c}),e.jsx(j,{value:c,children:({copied:p,copy:f})=>e.jsx(u,{label:p?"Copied!":"Copy path",children:e.jsx(m,{variant:"subtle",size:"sm",onClick:f,children:p?e.jsx(v,{size:14}):e.jsx(b,{size:14})})})})]}),e.jsx(i,{size:"sm",c:"dimmed",children:d}),h&&e.jsx(l,{block:!0,mt:"xs",style:{fontSize:11},children:h})]})}function y(){const a=window.location.origin;return e.jsx(P,{title:"API Documentation",description:"Reference for Localbase REST APIs",children:e.jsxs(o,{gap:"lg",children:[e.jsxs(x,{className:"supabase-section",children:[e.jsxs(r,{gap:"xs",mb:"sm",children:[e.jsx(E,{size:20}),e.jsx(i,{fw:600,children:"Base URL"})]}),e.jsxs(r,{gap:"sm",children:[e.jsx(l,{style:{flex:1},children:a}),e.jsx(j,{value:a,children:({copied:c,copy:d})=>e.jsx(u,{label:c?"Copied!":"Copy",children:e.jsx(m,{variant:"subtle",onClick:d,children:c?e.jsx(v,{size:16}):e.jsx(b,{size:16})})})})]})]}),e.jsxs(x,{className:"supabase-section",children:[e.jsx(i,{fw:600,mb:"sm",children:"Authentication"}),e.jsxs(i,{size:"sm",c:"dimmed",mb:"md",children:["All API requests require an API key passed via the ",e.jsx(l,{children:"apikey"})," header or"," ",e.jsx(l,{children:"Authorization: Bearer"})," header."]}),e.jsx(l,{block:!0,style:{fontSize:12},children:`curl -X GET '${a}/rest/v1/users' \\
  -H "apikey: YOUR_API_KEY" \\
  -H "Authorization: Bearer YOUR_API_KEY"`})]}),e.jsxs(t,{variant:"separated",children:[e.jsxs(t.Item,{value:"auth",children:[e.jsx(t.Control,{children:e.jsxs(r,{gap:"xs",children:[e.jsx(n,{variant:"light",color:"blue",children:"Auth"}),e.jsx(i,{fw:500,children:"/auth/v1"})]})}),e.jsx(t.Panel,{children:e.jsxs(o,{gap:0,children:[e.jsx(s,{method:"POST",path:"/auth/v1/signup",description:"Register a new user",example:`{
  "email": "user@example.com",
  "password": "password123"
}`}),e.jsx(s,{method:"POST",path:"/auth/v1/token?grant_type=password",description:"Sign in with email and password",example:`{
  "email": "user@example.com",
  "password": "password123"
}`}),e.jsx(s,{method:"POST",path:"/auth/v1/logout",description:"Sign out the current user"}),e.jsx(s,{method:"GET",path:"/auth/v1/user",description:"Get the current user"}),e.jsx(s,{method:"PUT",path:"/auth/v1/user",description:"Update the current user"}),e.jsx(s,{method:"GET",path:"/auth/v1/admin/users",description:"List all users (requires service_role)"}),e.jsx(s,{method:"POST",path:"/auth/v1/admin/users",description:"Create a new user (requires service_role)"})]})})]}),e.jsxs(t.Item,{value:"rest",children:[e.jsx(t.Control,{children:e.jsxs(r,{gap:"xs",children:[e.jsx(n,{variant:"light",color:"violet",children:"Database"}),e.jsx(i,{fw:500,children:"/rest/v1"})]})}),e.jsx(t.Panel,{children:e.jsxs(o,{gap:0,children:[e.jsx(s,{method:"GET",path:"/rest/v1/{table}",description:"Select rows from a table",example:"?select=*&limit=10"}),e.jsx(s,{method:"POST",path:"/rest/v1/{table}",description:"Insert rows into a table",example:`{
  "column1": "value1",
  "column2": "value2"
}`}),e.jsx(s,{method:"PATCH",path:"/rest/v1/{table}?{filters}",description:"Update rows in a table",example:"?id=eq.123"}),e.jsx(s,{method:"DELETE",path:"/rest/v1/{table}?{filters}",description:"Delete rows from a table",example:"?id=eq.123"}),e.jsx(s,{method:"POST",path:"/rest/v1/rpc/{function}",description:"Call a PostgreSQL function"})]})})]}),e.jsxs(t.Item,{value:"storage",children:[e.jsx(t.Control,{children:e.jsxs(r,{gap:"xs",children:[e.jsx(n,{variant:"light",color:"orange",children:"Storage"}),e.jsx(i,{fw:500,children:"/storage/v1"})]})}),e.jsx(t.Panel,{children:e.jsxs(o,{gap:0,children:[e.jsx(s,{method:"GET",path:"/storage/v1/bucket",description:"List all buckets"}),e.jsx(s,{method:"POST",path:"/storage/v1/bucket",description:"Create a new bucket",example:`{
  "name": "my-bucket",
  "public": false
}`}),e.jsx(s,{method:"POST",path:"/storage/v1/object/list/{bucket}",description:"List objects in a bucket"}),e.jsx(s,{method:"POST",path:"/storage/v1/object/{bucket}/{path}",description:"Upload an object"}),e.jsx(s,{method:"GET",path:"/storage/v1/object/{bucket}/{path}",description:"Download an object"}),e.jsx(s,{method:"DELETE",path:"/storage/v1/object/{bucket}/{path}",description:"Delete an object"}),e.jsx(s,{method:"GET",path:"/storage/v1/object/public/{bucket}/{path}",description:"Get public URL for an object"})]})})]}),e.jsxs(t.Item,{value:"realtime",children:[e.jsx(t.Control,{children:e.jsxs(r,{gap:"xs",children:[e.jsx(n,{variant:"light",color:"cyan",children:"Realtime"}),e.jsx(i,{fw:500,children:"/realtime/v1"})]})}),e.jsx(t.Panel,{children:e.jsxs(o,{gap:0,children:[e.jsx(s,{method:"GET",path:"/realtime/v1/websocket",description:"WebSocket endpoint for realtime subscriptions",example:"?apikey=YOUR_API_KEY"}),e.jsx(s,{method:"GET",path:"/api/realtime/channels",description:"List active channels (requires service_role)"}),e.jsx(s,{method:"GET",path:"/api/realtime/stats",description:"Get realtime statistics (requires service_role)"})]})})]}),e.jsxs(t.Item,{value:"functions",children:[e.jsx(t.Control,{children:e.jsxs(r,{gap:"xs",children:[e.jsx(n,{variant:"light",color:"green",children:"Functions"}),e.jsx(i,{fw:500,children:"/functions/v1"})]})}),e.jsx(t.Panel,{children:e.jsxs(o,{gap:0,children:[e.jsx(s,{method:"POST",path:"/functions/v1/{function_name}",description:"Invoke an edge function"}),e.jsx(s,{method:"GET",path:"/api/functions",description:"List all functions (requires service_role)"}),e.jsx(s,{method:"POST",path:"/api/functions",description:"Create a function (requires service_role)"}),e.jsx(s,{method:"POST",path:"/api/functions/{id}/deploy",description:"Deploy a function (requires service_role)"})]})})]})]})]})})}export{y as ApiDocsPage};
