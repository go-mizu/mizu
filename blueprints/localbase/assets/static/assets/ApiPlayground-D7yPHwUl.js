import{j as e,B as h,G as f,T as p,d as xe,A as _,b as B,V as q,S as w,a as R,s as Be,C as Le,a3 as ae,e as ge,X as ne,H as y,a2 as re,_ as ie,I as oe,D as Ue,g as je,J as De}from"./vendor-mantine-aKbh6G_O.js";import{r as c}from"./vendor-react-CA6k1jPF.js";import{P as He}from"./PageContainer-BshQiLl_.js";import{F as W}from"./vendor-monaco-D2wf_90s.js";import{aH as Je,a as Ge,x as Ne,v as Fe,b8 as Me,o as le,K as We,a_ as Ve,H as be,J as ye,s as Ke,al as Ze,b9 as Qe,ak as Xe,ba as Ye,I as fe,j as es,m as ss,h as ce,_ as ts,W as as}from"./vendor-icons-BYOfSTr6.js";const de=[{name:"Authentication",icon:e.jsx(es,{size:16}),description:"User authentication and session management",endpoints:[{method:"POST",path:"/auth/v1/signup",description:"Register a new user with email and password",category:"Authentication",requestBody:{email:"user@example.com",password:"password123"}},{method:"POST",path:"/auth/v1/token?grant_type=password",description:"Sign in with email and password",category:"Authentication",requestBody:{email:"user@example.com",password:"password123"}},{method:"POST",path:"/auth/v1/logout",description:"Sign out the current user",category:"Authentication"},{method:"GET",path:"/auth/v1/user",description:"Get the current authenticated user",category:"Authentication"},{method:"PUT",path:"/auth/v1/user",description:"Update the current user",category:"Authentication",requestBody:{data:{display_name:"John Doe"}}},{method:"POST",path:"/auth/v1/recover",description:"Send password recovery email",category:"Authentication",requestBody:{email:"user@example.com"}},{method:"GET",path:"/auth/v1/admin/users",description:"List all users (requires service_role)",category:"Authentication"},{method:"POST",path:"/auth/v1/admin/users",description:"Create a new user (requires service_role)",category:"Authentication",requestBody:{email:"newuser@example.com",password:"password123",email_confirm:!0}}]},{name:"Database",icon:e.jsx(fe,{size:16}),description:"CRUD operations on database tables",endpoints:[{method:"GET",path:"/rest/v1/{table}",description:"Select rows from a table",category:"Database",parameters:[{name:"select",type:"string",description:"Columns to return (e.g., *, id,name)",example:"*"},{name:"limit",type:"integer",description:"Maximum number of rows to return",example:"10"},{name:"offset",type:"integer",description:"Number of rows to skip",example:"0"},{name:"order",type:"string",description:"Order by column (e.g., created_at.desc)",example:"created_at.desc"}]},{method:"POST",path:"/rest/v1/{table}",description:"Insert rows into a table",category:"Database",requestBody:{column1:"value1",column2:"value2"}},{method:"PATCH",path:"/rest/v1/{table}?id=eq.{id}",description:"Update rows matching filter",category:"Database",requestBody:{column1:"newvalue"}},{method:"DELETE",path:"/rest/v1/{table}?id=eq.{id}",description:"Delete rows matching filter",category:"Database"},{method:"POST",path:"/rest/v1/rpc/{function}",description:"Call a PostgreSQL function",category:"Database",requestBody:{param1:"value1"}}]},{name:"Storage",icon:e.jsx(ss,{size:16}),description:"File storage operations",endpoints:[{method:"GET",path:"/storage/v1/bucket",description:"List all buckets",category:"Storage"},{method:"POST",path:"/storage/v1/bucket",description:"Create a new bucket",category:"Storage",requestBody:{name:"my-bucket",public:!1}},{method:"GET",path:"/storage/v1/bucket/{bucket_id}",description:"Get bucket details",category:"Storage"},{method:"DELETE",path:"/storage/v1/bucket/{bucket_id}",description:"Delete a bucket",category:"Storage"},{method:"POST",path:"/storage/v1/object/list/{bucket_id}",description:"List objects in a bucket",category:"Storage",requestBody:{prefix:"",limit:100}},{method:"GET",path:"/storage/v1/object/{bucket_id}/{path}",description:"Download an object",category:"Storage"},{method:"DELETE",path:"/storage/v1/object/{bucket_id}/{path}",description:"Delete an object",category:"Storage"},{method:"POST",path:"/storage/v1/object/sign/{bucket_id}/{path}",description:"Create a signed URL for an object",category:"Storage",requestBody:{expiresIn:3600}}]},{name:"Edge Functions",icon:e.jsx(ce,{size:16}),description:"Serverless function invocation",endpoints:[{method:"POST",path:"/functions/v1/{function_name}",description:"Invoke an edge function",category:"Edge Functions",requestBody:{key:"value"}},{method:"GET",path:"/api/functions",description:"List all functions (requires service_role)",category:"Edge Functions"},{method:"POST",path:"/api/functions",description:"Create a new function (requires service_role)",category:"Edge Functions",requestBody:{name:"my-function",slug:"my-function"}}]},{name:"Realtime",icon:e.jsx(ce,{size:16}),description:"Realtime subscriptions and channels",endpoints:[{method:"GET",path:"/api/realtime/channels",description:"List active realtime channels",category:"Realtime"},{method:"GET",path:"/api/realtime/stats",description:"Get realtime statistics",category:"Realtime"}]}],ve={GET:"green",POST:"blue",PUT:"orange",PATCH:"violet",DELETE:"red"},ue=a=>a>=200&&a<300?"green":a>=300&&a<400?"blue":a>=400&&a<500?"orange":"red",ns=(a,r,m,g,j)=>{let x=`${window.location.origin}${r}`;const u=Object.entries(g).filter(([d,n])=>n).map(([d,n])=>`${encodeURIComponent(d)}=${encodeURIComponent(n)}`).join("&");u&&(x+=`?${u}`);const i=[];i.push(`  method: '${a}'`);const o=Object.entries(m).filter(([d,n])=>n).map(([d,n])=>`    '${d}': '${n}'`);return o.length>0&&i.push(`  headers: {
${o.join(`,
`)}
  }`),j&&["POST","PUT","PATCH"].includes(a)&&i.push(`  body: JSON.stringify(${j})`),`const response = await fetch('${x}', {
${i.join(`,
`)}
});

const data = await response.json();
console.log(data);`},rs=(a,r,m,g,j)=>{let x=`${window.location.origin}${r}`;const u=Object.entries(g).filter(([o,d])=>d).map(([o,d])=>`${encodeURIComponent(o)}=${encodeURIComponent(d)}`).join("&");u&&(x+=`?${u}`);const i=[`curl -X ${a} '${x}'`];return Object.entries(m).filter(([o,d])=>d).forEach(([o,d])=>{i.push(`  -H "${o}: ${d}"`)}),j&&["POST","PUT","PATCH"].includes(a)&&i.push(`  -d '${j}'`),i.join(` \\
`)},is=(a,r,m,g,j)=>{let x=`${window.location.origin}${r}`;const u=Object.entries(m).filter(([n,b])=>b).map(([n,b])=>`    "${n}": "${b}"`).join(`,
`),i=Object.entries(g).filter(([n,b])=>b).map(([n,b])=>`    "${n}": "${b}"`).join(`,
`);let o=`import requests

url = "${x}"
headers = {
${u}
}`;i&&(o+=`
params = {
${i}
}`),j&&["POST","PUT","PATCH"].includes(a)&&(o+=`
data = ${j}`);const d=["url","headers=headers"];return i&&d.push("params=params"),j&&["POST","PUT","PATCH"].includes(a)&&d.push("json=data"),o+=`

response = requests.${a.toLowerCase()}(${d.join(", ")})
print(response.json())`,o},os=(a,r,m,g,j)=>{let x=`${window.location.origin}${r}`;const u=Object.entries(g).filter(([n,b])=>b).map(([n,b])=>`${encodeURIComponent(n)}=${encodeURIComponent(b)}`).join("&");u&&(x+=`?${u}`);let i="",o="nil";j&&["POST","PUT","PATCH"].includes(a)&&(i=`
    body := strings.NewReader(\`${j}\`)`,o="body");const d=Object.entries(m).filter(([n,b])=>b).map(([n,b])=>`    req.Header.Set("${n}", "${b}")`).join(`
`);return`package main

import (
    "fmt"
    "io"
    "net/http"
    "strings"
)

func main() {${i}
    req, _ := http.NewRequest("${a}", "${x}", ${o})
${d}

    client := &http.Client{}
    resp, err := client.Do(req)
    if err != nil {
        panic(err)
    }
    defer resp.Body.Close()

    data, _ := io.ReadAll(resp.Body)
    fmt.Println(string(data))
}`};function Se({method:a}){return e.jsx(R,{size:"xs",variant:"filled",color:ve[a],style:{fontWeight:600,minWidth:55,textAlign:"center"},children:a})}function ls({endpoint:a,isSelected:r,onClick:m}){return e.jsx(h,{onClick:m,p:"xs",style:{cursor:"pointer",borderRadius:6,backgroundColor:r?"var(--supabase-bg-hover)":"transparent",borderLeft:r?"2px solid var(--mantine-color-green-6)":"2px solid transparent",transition:"all 150ms ease"},className:"endpoint-item",children:e.jsxs(f,{gap:"xs",wrap:"nowrap",children:[e.jsx(Se,{method:a.method}),e.jsx(p,{size:"xs",style:{fontFamily:"monospace"},truncate:!0,children:a.path})]})})}function pe({pairs:a,onChange:r,placeholder:m}){const g=()=>{r([...a,{key:"",value:"",enabled:!0}])},j=x=>{r(a.filter((u,i)=>i!==x))},v=(x,u,i)=>{const o=[...a];o[x]={...o[x],[u]:i},r(o)};return e.jsxs(w,{gap:"xs",children:[a.map((x,u)=>e.jsxs(f,{gap:"xs",wrap:"nowrap",children:[e.jsx(De,{size:"xs",checked:x.enabled,onChange:i=>v(u,"enabled",i.target.checked)}),e.jsx(B,{size:"xs",placeholder:(m==null?void 0:m.key)||"Key",value:x.key,onChange:i=>v(u,"key",i.target.value),style:{flex:1},styles:{input:{fontFamily:"monospace",fontSize:12}}}),e.jsx(B,{size:"xs",placeholder:(m==null?void 0:m.value)||"Value",value:x.value,onChange:i=>v(u,"value",i.target.value),style:{flex:1},styles:{input:{fontFamily:"monospace",fontSize:12}}}),e.jsx(_,{size:"sm",variant:"subtle",color:"red",onClick:()=>j(u),children:e.jsx(ts,{size:14})})]},u)),e.jsx(ge,{size:"xs",variant:"subtle",leftSection:e.jsx(as,{size:14}),onClick:g,style:{alignSelf:"flex-start"},children:"Add"})]})}function cs({language:a,code:r}){const m={javascript:"javascript",curl:"shell",python:"python",go:"go"};return e.jsxs(h,{style:{position:"relative"},children:[e.jsx(je,{value:r,children:({copied:g,copy:j})=>e.jsx(xe,{label:g?"Copied!":"Copy",position:"left",children:e.jsx(_,{variant:"subtle",size:"sm",onClick:j,style:{position:"absolute",top:8,right:8,zIndex:10},children:g?e.jsx(be,{size:14}):e.jsx(ye,{size:14})})})}),e.jsx(W,{height:"200px",language:m[a],value:r,theme:"vs-dark",options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:12,lineNumbers:"off",folding:!1,padding:{top:8,bottom:8}}})]})}const he="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU",me="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0";function xs(){const a=window.location.origin,[r,m]=c.useState("GET"),[g,j]=c.useState("/rest/v1/"),[v,x]=c.useState([{key:"Content-Type",value:"application/json",enabled:!0}]),[u,i]=c.useState([]),[o,d]=c.useState(""),[n,b]=c.useState(null),[k,V]=c.useState(!1),[L,U]=c.useState(null),[S,Ce]=c.useState(null),[E,K]=c.useState("service_role"),[D,we]=c.useState("javascript"),[Z,Te]=c.useState(["Authentication","Database"]),[H,ze]=c.useState([]),[J,Q]=c.useState(!1),[G,ke]=c.useState([]),[P,Pe]=c.useState("");c.useEffect(()=>{(async()=>{try{const t=localStorage.getItem("serviceKey")||he,l=await fetch("/api/database/tables",{headers:{apikey:t,Authorization:`Bearer ${t}`}});if(l.ok){const z=await l.json();ke(z||[])}}catch(t){console.error("Failed to fetch tables:",t)}})()},[]);const N=c.useMemo(()=>{const s=G.map(l=>({method:"GET",path:`/rest/v1/${l.name}`,description:`Select rows from ${l.name}`,category:"Tables",parameters:[{name:"select",type:"string",description:"Columns to return",example:"*"},{name:"limit",type:"integer",description:"Max rows",example:"10"}]})),t={name:"Tables",icon:e.jsx(fe,{size:16}),description:"Auto-generated endpoints for your tables",endpoints:s};return G.length>0?[t,...de]:de},[G]),Ie=c.useMemo(()=>P?N.map(s=>({...s,endpoints:s.endpoints.filter(t=>t.path.toLowerCase().includes(P.toLowerCase())||t.description.toLowerCase().includes(P.toLowerCase()))})).filter(s=>s.endpoints.length>0):N,[N,P]),F=c.useCallback(()=>{switch(E){case"anon":return me;case"service_role":return localStorage.getItem("serviceKey")||he;case"authenticated":return localStorage.getItem("userToken")||me}},[E]),$=c.useCallback(()=>{const s=F(),t={apikey:s,Authorization:`Bearer ${s}`};return v.filter(l=>l.enabled&&l.key).forEach(l=>{t[l.key]=l.value}),t},[v,F]),O=c.useCallback(()=>{const s={};return u.filter(t=>t.enabled&&t.key).forEach(t=>{s[t.key]=t.value}),s},[u]),Ee=c.useCallback(async()=>{V(!0),U(null),b(null);const s=performance.now();try{const t=$(),l=O();let z=g;const X=Object.entries(l).filter(([C,I])=>I).map(([C,I])=>`${encodeURIComponent(C)}=${encodeURIComponent(I)}`).join("&");X&&(z+=(z.includes("?")?"&":"?")+X);const Y={method:r,headers:t};o&&["POST","PUT","PATCH"].includes(r)&&(Y.body=o);const T=await fetch(z,Y),Re=performance.now(),ee=Math.round(Re-s),se={};T.headers.forEach((C,I)=>{se[I]=C});let A=null;const M=T.headers.get("content-type");if(M!=null&&M.includes("application/json")){const C=await T.text();if(C)try{A=JSON.parse(C)}catch{A=C}}else A=await T.text();const te={status:T.status,statusText:T.statusText,headers:se,body:A,duration_ms:ee};b(te);const _e={id:crypto.randomUUID(),method:r,path:z,status:T.status,duration_ms:ee,timestamp:new Date().toISOString(),request:{headers:t,query:l,body:o||null},response:te};ze(C=>[_e,...C.slice(0,99)])}catch(t){U(t instanceof Error?t.message:"Request failed")}finally{V(!1)}},[r,g,$,O,o]),$e=c.useCallback(s=>{Ce(s),m(s.method),j(s.path),s.requestBody?d(JSON.stringify(s.requestBody,null,2)):d(""),s.parameters?i(s.parameters.map(t=>({key:t.name,value:t.example||"",enabled:!!t.example}))):i([]),b(null),U(null)},[]),Oe=c.useCallback(s=>{m(s.method),j(s.path.split("?")[0]),x(Object.entries(s.request.headers).filter(([t])=>!["apikey","authorization"].includes(t.toLowerCase())).map(([t,l])=>({key:t,value:l,enabled:!0}))),i(Object.entries(s.request.query).map(([t,l])=>({key:t,value:l,enabled:!0}))),d(s.request.body||""),b(s.response),Q(!1)},[]),Ae=c.useMemo(()=>{const s=$(),t=O(),l=o||null;return{javascript:ns(r,g,s,t,l),curl:rs(r,g,s,t,l),python:is(r,g,s,t,l),go:os(r,g,s,t,l)}},[r,g,$,O,o]),qe=s=>{Te(t=>t.includes(s)?t.filter(l=>l!==s):[...t,s])};return e.jsxs(He,{title:"API Playground",description:"Explore and test Localbase REST APIs interactively",fullWidth:!0,noPadding:!0,children:[e.jsxs(h,{style:{display:"grid",gridTemplateColumns:"280px 1fr 400px",height:"calc(100vh - 120px)",gap:0},children:[e.jsxs(h,{style:{borderRight:"1px solid var(--supabase-border)",display:"flex",flexDirection:"column",overflow:"hidden"},children:[e.jsxs(h,{p:"sm",style:{borderBottom:"1px solid var(--supabase-border)"},children:[e.jsxs(f,{justify:"space-between",mb:"xs",children:[e.jsx(p,{size:"sm",fw:600,children:"Endpoints"}),e.jsx(xe,{label:"Request History",children:e.jsx(_,{variant:J?"filled":"subtle",size:"sm",onClick:()=>Q(!J),children:e.jsx(Je,{size:16})})})]}),e.jsx(B,{size:"xs",placeholder:"Search endpoints...",leftSection:e.jsx(Ge,{size:14}),value:P,onChange:s=>Pe(s.target.value)})]}),e.jsx(q,{style:{flex:1},children:J?e.jsxs(w,{gap:0,p:"xs",children:[e.jsxs(p,{size:"xs",c:"dimmed",mb:"xs",fw:500,children:["Recent Requests (",H.length,")"]}),H.length===0?e.jsx(p,{size:"xs",c:"dimmed",ta:"center",py:"lg",children:"No requests yet"}):H.map(s=>e.jsxs(h,{p:"xs",onClick:()=>Oe(s),style:{cursor:"pointer",borderRadius:6,borderBottom:"1px solid var(--supabase-border)"},className:"endpoint-item",children:[e.jsxs(f,{gap:"xs",wrap:"nowrap",mb:4,children:[e.jsx(Se,{method:s.method}),e.jsx(R,{size:"xs",color:ue(s.status),children:s.status}),e.jsxs(p,{size:"xs",c:"dimmed",children:[s.duration_ms,"ms"]})]}),e.jsx(p,{size:"xs",style:{fontFamily:"monospace"},truncate:!0,children:s.path}),e.jsx(p,{size:"xs",c:"dimmed",children:new Date(s.timestamp).toLocaleTimeString()})]},s.id))]}):e.jsx(w,{gap:0,p:"xs",children:Ie.map(s=>e.jsxs(h,{mb:"xs",children:[e.jsxs(f,{gap:"xs",p:"xs",onClick:()=>qe(s.name),style:{cursor:"pointer",borderRadius:6},className:"endpoint-item",children:[Z.includes(s.name)?e.jsx(Ne,{size:14}):e.jsx(Fe,{size:14}),e.jsx(Be,{size:"sm",variant:"light",color:"gray",children:s.icon}),e.jsx(p,{size:"sm",fw:500,children:s.name}),e.jsx(R,{size:"xs",variant:"light",color:"gray",children:s.endpoints.length})]}),e.jsx(Le,{in:Z.includes(s.name),children:e.jsx(w,{gap:2,pl:"xl",children:s.endpoints.map((t,l)=>e.jsx(ls,{endpoint:t,isSelected:(S==null?void 0:S.path)===t.path&&(S==null?void 0:S.method)===t.method,onClick:()=>$e(t)},`${t.method}-${t.path}-${l}`))})})]},s.name))})})]}),e.jsxs(h,{style:{display:"flex",flexDirection:"column",overflow:"hidden"},children:[e.jsx(h,{p:"sm",style:{borderBottom:"1px solid var(--supabase-border)"},children:e.jsxs(f,{gap:"sm",wrap:"nowrap",children:[e.jsx(ae,{size:"sm",value:r,onChange:s=>s&&m(s),data:["GET","POST","PUT","PATCH","DELETE"],style:{width:100},styles:{input:{fontWeight:600,color:`var(--mantine-color-${ve[r]}-6)`}}}),e.jsx(B,{size:"sm",value:g,onChange:s=>j(s.target.value),placeholder:"/rest/v1/table",style:{flex:1},styles:{input:{fontFamily:"monospace"}},leftSection:e.jsx(p,{size:"xs",c:"dimmed",children:a}),leftSectionWidth:140}),e.jsx(ae,{size:"sm",value:E,onChange:s=>s&&K(s),data:[{value:"anon",label:"anon"},{value:"service_role",label:"service_role"},{value:"authenticated",label:"authenticated"}],style:{width:140}}),e.jsx(ge,{size:"sm",leftSection:k?e.jsx(ne,{size:14}):e.jsx(Me,{size:14}),onClick:Ee,disabled:k,color:"green",children:"Send"})]})}),e.jsx(q,{style:{flex:1},children:e.jsxs(h,{p:"sm",children:[e.jsxs(y,{defaultValue:"params",children:[e.jsxs(y.List,{children:[e.jsx(y.Tab,{value:"params",children:"Query Params"}),e.jsx(y.Tab,{value:"headers",children:"Headers"}),e.jsx(y.Tab,{value:"body",children:"Body"}),e.jsx(y.Tab,{value:"auth",children:"Authentication"})]}),e.jsx(y.Panel,{value:"params",pt:"sm",children:e.jsx(pe,{pairs:u,onChange:i,placeholder:{key:"Parameter",value:"Value"}})}),e.jsx(y.Panel,{value:"headers",pt:"sm",children:e.jsx(pe,{pairs:v,onChange:x,placeholder:{key:"Header",value:"Value"}})}),e.jsx(y.Panel,{value:"body",pt:"sm",children:["POST","PUT","PATCH"].includes(r)?e.jsx(h,{style:{border:"1px solid var(--supabase-border)",borderRadius:6},children:e.jsx(W,{height:"200px",language:"json",value:o,onChange:s=>d(s||""),theme:"vs-dark",options:{minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:12,lineNumbers:"on",folding:!0,padding:{top:8,bottom:8}}})}):e.jsx(p,{size:"sm",c:"dimmed",children:"Body is only available for POST, PUT, and PATCH requests."})}),e.jsx(y.Panel,{value:"auth",pt:"sm",children:e.jsxs(w,{gap:"md",children:[e.jsxs(h,{children:[e.jsx(p,{size:"sm",fw:500,mb:"xs",children:"Authentication Role"}),e.jsx(re,{size:"xs",value:E,onChange:s=>K(s),data:[{label:"Anonymous",value:"anon"},{label:"Service Role",value:"service_role"},{label:"Authenticated",value:"authenticated"}]})]}),e.jsxs(h,{children:[e.jsx(p,{size:"sm",fw:500,mb:"xs",children:"Current API Key"}),e.jsxs(ie,{block:!0,style:{fontSize:11,wordBreak:"break-all"},children:[F().substring(0,50),"..."]})]}),e.jsx(oe,{color:"blue",variant:"light",children:e.jsxs(p,{size:"xs",children:[e.jsx("strong",{children:"anon:"})," Public key for client-side use with RLS policies",e.jsx("br",{}),e.jsx("strong",{children:"service_role:"})," Admin key that bypasses RLS",e.jsx("br",{}),e.jsx("strong",{children:"authenticated:"})," User JWT after login"]})})]})})]}),S&&e.jsxs(h,{mt:"lg",children:[e.jsx(Ue,{mb:"md"}),e.jsx(p,{size:"sm",fw:500,mb:"xs",children:S.description}),S.parameters&&S.parameters.length>0&&e.jsxs(h,{mt:"sm",children:[e.jsx(p,{size:"xs",c:"dimmed",mb:"xs",children:"Available Parameters"}),e.jsx(w,{gap:"xs",children:S.parameters.map(s=>e.jsxs(f,{gap:"xs",children:[e.jsx(ie,{style:{fontSize:11},children:s.name}),e.jsxs(p,{size:"xs",c:"dimmed",children:["(",s.type,") - ",s.description]})]},s.name))})]})]})]})})]}),e.jsx(h,{style:{borderLeft:"1px solid var(--supabase-border)",display:"flex",flexDirection:"column",overflow:"hidden"},children:e.jsxs(y,{defaultValue:"response",style:{height:"100%",display:"flex",flexDirection:"column"},children:[e.jsxs(y.List,{px:"sm",children:[e.jsx(y.Tab,{value:"response",children:"Response"}),e.jsx(y.Tab,{value:"code",children:"Code"})]}),e.jsx(y.Panel,{value:"response",style:{flex:1,overflow:"hidden"},children:e.jsx(q,{style:{height:"100%"},children:e.jsxs(h,{p:"sm",children:[k&&e.jsxs(f,{justify:"center",py:"xl",children:[e.jsx(ne,{size:"sm"}),e.jsx(p,{size:"sm",c:"dimmed",children:"Sending request..."})]}),L&&e.jsx(oe,{color:"red",icon:e.jsx(le,{size:16}),children:L}),n&&!k&&e.jsxs(w,{gap:"md",children:[e.jsxs(f,{gap:"md",children:[e.jsxs(R,{size:"lg",color:ue(n.status),leftSection:n.status<400?e.jsx(We,{size:14}):e.jsx(le,{size:14}),children:[n.status," ",n.statusText]}),e.jsxs(f,{gap:"xs",children:[e.jsx(Ve,{size:14}),e.jsxs(p,{size:"sm",c:"dimmed",children:[n.duration_ms,"ms"]})]})]}),e.jsxs(h,{children:[e.jsxs(f,{justify:"space-between",mb:"xs",children:[e.jsx(p,{size:"xs",fw:500,children:"Response Body"}),e.jsx(je,{value:typeof n.body=="string"?n.body:JSON.stringify(n.body,null,2),children:({copied:s,copy:t})=>e.jsx(_,{size:"sm",variant:"subtle",onClick:t,children:s?e.jsx(be,{size:14}):e.jsx(ye,{size:14})})})]}),e.jsx(h,{style:{border:"1px solid var(--supabase-border)",borderRadius:6,overflow:"hidden"},children:e.jsx(W,{height:"300px",language:"json",value:typeof n.body=="string"?n.body:JSON.stringify(n.body,null,2),theme:"vs-dark",options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:12,lineNumbers:"on",folding:!0,padding:{top:8,bottom:8},wordWrap:"on"}})})]}),e.jsxs(h,{children:[e.jsx(p,{size:"xs",fw:500,mb:"xs",children:"Response Headers"}),e.jsx(w,{gap:4,children:Object.entries(n.headers).map(([s,t])=>e.jsxs(f,{gap:"xs",wrap:"nowrap",children:[e.jsxs(p,{size:"xs",fw:500,style:{minWidth:120},children:[s,":"]}),e.jsx(p,{size:"xs",c:"dimmed",style:{fontFamily:"monospace",wordBreak:"break-all"},children:t})]},s))})]})]}),!n&&!k&&!L&&e.jsxs(h,{ta:"center",py:"xl",children:[e.jsx(Ke,{size:48,color:"var(--mantine-color-gray-5)"}),e.jsx(p,{size:"sm",c:"dimmed",mt:"md",children:"Select an endpoint or send a request to see the response"})]})]})})}),e.jsx(y.Panel,{value:"code",style:{flex:1,overflow:"hidden"},children:e.jsx(q,{style:{height:"100%"},children:e.jsxs(h,{p:"sm",children:[e.jsx(re,{size:"xs",value:D,onChange:s=>we(s),data:[{label:e.jsxs(f,{gap:4,children:[e.jsx(Ze,{size:14}),e.jsx("span",{children:"JavaScript"})]}),value:"javascript"},{label:e.jsxs(f,{gap:4,children:[e.jsx(Qe,{size:14}),e.jsx("span",{children:"cURL"})]}),value:"curl"},{label:e.jsxs(f,{gap:4,children:[e.jsx(Xe,{size:14}),e.jsx("span",{children:"Python"})]}),value:"python"},{label:e.jsxs(f,{gap:4,children:[e.jsx(Ye,{size:14}),e.jsx("span",{children:"Go"})]}),value:"go"}],mb:"md",fullWidth:!0}),e.jsx(h,{style:{border:"1px solid var(--supabase-border)",borderRadius:6,overflow:"hidden"},children:e.jsx(cs,{language:D,code:Ae[D]})})]})})})]})})]}),e.jsx("style",{children:`
        .endpoint-item:hover {
          background-color: var(--supabase-bg-hover);
        }
      `})]})}export{xs as ApiPlaygroundPage};
