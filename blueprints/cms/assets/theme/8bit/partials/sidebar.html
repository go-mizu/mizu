{{ define "partials/sidebar.html" }}
<aside class="sidebar">
    <!-- Search Widget -->
    {{ if .Theme.Features.search }}
    <div class="widget">
        <div class="widget__header">Search</div>
        <div class="widget__content">
            <form action="/search" method="get" class="search-form">
                <input type="text" name="q" class="form-input" placeholder="TYPE QUERY...">
            </form>
        </div>
    </div>
    {{ end }}

    <!-- Categories Widget -->
    {{ if .Categories }}
    <div class="widget">
        <div class="widget__header">Categories</div>
        <div class="widget__content">
            <ul class="widget-list">
                {{ range .Categories | first 8 }}
                <li>
                    <a href="/category/{{ .Slug }}">
                        {{ .Name }}
                    </a>
                </li>
                {{ end }}
            </ul>
        </div>
    </div>
    {{ end }}

    <!-- Tags Widget -->
    {{ if .Tags }}
    <div class="widget">
        <div class="widget__header">Tags</div>
        <div class="widget__content">
            <div class="tags">
                {{ range .Tags | first 12 }}
                <a href="/tag/{{ .Slug }}" class="tag">{{ .Name }}</a>
                {{ end }}
            </div>
        </div>
    </div>
    {{ end }}

    <!-- Recent Posts Widget -->
    {{ if .RecentPosts }}
    <div class="widget">
        <div class="widget__header">Recent</div>
        <div class="widget__content">
            <ul class="widget-list">
                {{ range .RecentPosts | first 5 }}
                <li>
                    <a href="/{{ .Slug }}">{{ truncate .Title 40 }}</a>
                </li>
                {{ end }}
            </ul>
        </div>
    </div>
    {{ end }}

    <!-- Newsletter Widget -->
    {{ if .Theme.Features.newsletter }}
    <div class="widget">
        <div class="widget__header">Subscribe</div>
        <div class="widget__content">
            <p style="font-size: var(--text-sm); margin-bottom: var(--space-1);">
                GET NEW POSTS IN YOUR INBOX!
            </p>
            <form action="/subscribe" method="post">
                <div class="form-group">
                    <input type="email" name="email" class="form-input" placeholder="YOUR EMAIL" required>
                </div>
                <button type="submit" class="btn btn--primary btn--block btn--sm">
                    JOIN
                </button>
            </form>
        </div>
    </div>
    {{ end }}
</aside>
{{ end }}
