{{ define "partials/pagination.html" }}
{{/* Pagination Component - receives Pagination struct via .Pagination or directly */}}
{{ $p := . }}
{{ if .Pagination }}{{ $p = .Pagination }}{{ end }}
{{ if gt $p.TotalPages 1 }}
<nav class="pagination" aria-label="Pagination">
    <!-- Previous -->
    {{ if gt $p.CurrentPage 1 }}
    <a href="{{ $p.PrevURL }}" class="pagination__item pagination__prev" aria-label="Previous page">
        PREV
    </a>
    {{ else }}
    <span class="pagination__item pagination__prev pagination__item--disabled" aria-disabled="true">
        PREV
    </span>
    {{ end }}

    <!-- Page Numbers -->
    {{ $current := $p.CurrentPage }}
    {{ $baseURL := $p.BaseURL }}
    {{ range $p.Pages }}
    {{ if eq . -1 }}
    <span class="pagination__item pagination__item--ellipsis">...</span>
    {{ else if eq . $current }}
    <span class="pagination__item pagination__item--active" aria-current="page">
        {{ . }}
    </span>
    {{ else }}
    <a href="{{ $baseURL }}?page={{ . }}" class="pagination__item">
        {{ . }}
    </a>
    {{ end }}
    {{ end }}

    <!-- Next -->
    {{ if lt $p.CurrentPage $p.TotalPages }}
    <a href="{{ $p.NextURL }}" class="pagination__item pagination__next" aria-label="Next page">
        NEXT
    </a>
    {{ else }}
    <span class="pagination__item pagination__next pagination__item--disabled" aria-disabled="true">
        NEXT
    </span>
    {{ end }}
</nav>
{{ end }}
{{ end }}
