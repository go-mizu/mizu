{{/* Tag Archive Template */}}

{{define "title"}}Posts tagged "{{.Tag.Name}}" - {{.Site.Name}}{{end}}

{{define "meta_description"}}
{{if .Tag.Description}}
<meta name="description" content="{{truncate .Tag.Description 160}}">
{{else}}
<meta name="description" content="Browse all posts tagged with {{.Tag.Name}}.">
{{end}}
{{end}}

{{define "body_class"}}page-archive page-tag tag-{{.Tag.Slug}}{{end}}

{{define "og_tags"}}
<meta property="og:type" content="website">
<meta property="og:title" content="Posts tagged {{.Tag.Name}} - {{.Site.Name}}">
<meta property="og:description" content="{{if .Tag.Description}}{{truncate .Tag.Description 160}}{{else}}Browse all posts tagged with {{.Tag.Name}}{{end}}">
<meta property="og:url" content="{{.Request.URL}}">
{{end}}

{{define "content"}}
<div class="archive-page tag-archive">
    {{/* Tag Header */}}
    <header class="archive-header">
        <div class="container">
            <div class="archive-header-content">
                <div class="archive-label">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/>
                        <circle cx="7" cy="7" r="1"/>
                    </svg>
                    Tag
                </div>
                <h1 class="archive-title">#{{.Tag.Name}}</h1>
                {{if .Tag.Description}}
                <p class="archive-description">{{.Tag.Description}}</p>
                {{end}}
                {{if .Pagination}}
                <p class="archive-count">{{.Pagination.Total}} {{if eq .Pagination.Total 1}}post{{else}}posts{{end}}</p>
                {{end}}
            </div>
        </div>
    </header>

    {{/* Posts */}}
    <section class="archive-content">
        <div class="container">
            <div class="content-layout{{if .Theme.Config.sidebar_position}} content-layout--sidebar-{{.Theme.Config.sidebar_position}}{{end}}">
                <div class="posts-main">
                    {{if .Posts}}
                    <div class="posts-grid">
                        {{range .Posts}}
                        {{template "partials/post-card.html" .}}
                        {{end}}
                    </div>

                    {{/* Pagination */}}
                    {{template "partials/pagination.html" .}}
                    {{else}}
                    <div class="empty-state">
                        <div class="empty-state-icon">
                            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/>
                                <circle cx="7" cy="7" r="1"/>
                            </svg>
                        </div>
                        <h2 class="empty-state-title">No posts yet</h2>
                        <p class="empty-state-text">There are no posts with this tag yet.</p>
                        <a href="/" class="btn btn--primary">Back to Home</a>
                    </div>
                    {{end}}
                </div>

                {{/* Sidebar */}}
                {{template "partials/sidebar.html" .}}
            </div>
        </div>
    </section>
</div>
{{end}}
