{{/* Error Page Template (404, 500, etc.) */}}

{{define "title"}}{{if eq .ErrorCode 404}}Page Not Found{{else if eq .ErrorCode 500}}Server Error{{else}}Error{{end}} - {{.Site.Name}}{{end}}

{{define "meta_description"}}
<meta name="description" content="{{if eq .ErrorCode 404}}The page you're looking for could not be found.{{else}}An error occurred.{{end}}">
{{end}}

{{define "body_class"}}page-error error-{{.ErrorCode}}{{end}}

{{define "content"}}
<div class="error-page">
    <div class="container">
        <div class="error-content">
            {{/* Error Code */}}
            <div class="error-code">
                {{if eq .ErrorCode 404}}
                <span class="error-number">4</span>
                <span class="error-number error-number--animated">0</span>
                <span class="error-number">4</span>
                {{else if eq .ErrorCode 500}}
                <span class="error-number">5</span>
                <span class="error-number error-number--animated">0</span>
                <span class="error-number">0</span>
                {{else}}
                <span class="error-number">{{.ErrorCode}}</span>
                {{end}}
            </div>

            {{/* Error Message */}}
            <div class="error-message">
                {{if eq .ErrorCode 404}}
                <h1 class="error-title">Page not found</h1>
                <p class="error-text">The page you're looking for doesn't exist or has been moved. Don't worry, it happens to the best of us.</p>
                {{else if eq .ErrorCode 500}}
                <h1 class="error-title">Something went wrong</h1>
                <p class="error-text">We're experiencing some technical difficulties. Please try again later.</p>
                {{else if eq .ErrorCode 403}}
                <h1 class="error-title">Access Denied</h1>
                <p class="error-text">You don't have permission to access this page.</p>
                {{else}}
                <h1 class="error-title">Error</h1>
                <p class="error-text">{{if .ErrorMessage}}{{.ErrorMessage}}{{else}}An unexpected error occurred.{{end}}</p>
                {{end}}
            </div>

            {{/* Action Buttons */}}
            <div class="error-actions">
                <a href="/" class="btn btn--primary">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/>
                        <path d="M9 22V12h6v10"/>
                    </svg>
                    Back to Home
                </a>
                <button onclick="history.back()" class="btn btn--secondary">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 12H5M12 19l-7-7 7-7"/>
                    </svg>
                    Go Back
                </button>
            </div>

            {{/* Search */}}
            {{if eq .ErrorCode 404}}
            <div class="error-search">
                <p class="error-search-text">Or try searching for what you're looking for:</p>
                <form class="search-form-inline" action="/search" method="GET" role="search">
                    <input type="search" name="q" class="search-input" placeholder="Search..." aria-label="Search">
                    <button type="submit" class="search-btn" aria-label="Search">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="m21 21-4.35-4.35"/>
                        </svg>
                    </button>
                </form>
            </div>
            {{end}}

            {{/* Helpful Links */}}
            {{if eq .ErrorCode 404}}
            <div class="error-links">
                <h2 class="error-links-title">You might want to check out:</h2>
                <ul class="error-links-list">
                    <li><a href="/">Homepage</a> - Start fresh from the beginning</li>
                    <li><a href="/archive">Archive</a> - Browse all our content</li>
                    {{if .Menus.primary}}
                    {{range .Menus.primary.Items}}
                    <li><a href="{{.URL}}">{{.Title}}</a></li>
                    {{end}}
                    {{end}}
                </ul>
            </div>
            {{end}}
        </div>
    </div>
</div>
{{end}}
