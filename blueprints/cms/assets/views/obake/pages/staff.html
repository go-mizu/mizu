{{define "content"}}
<div class="gh-staff">
    <header class="gh-content-header">
        <div class="gh-content-header-left">
            <h1 class="gh-content-title">Staff</h1>
        </div>
        <div class="gh-content-header-right">
            <button class="gh-btn gh-btn-primary" onclick="showInviteModal()">
                <svg class="gh-btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                    <circle cx="9" cy="7" r="4"/>
                    <line x1="19" x2="19" y1="8" y2="14"/>
                    <line x1="22" x2="16" y1="11" y2="11"/>
                </svg>
                <span>Invite people</span>
            </button>
        </div>
    </header>

    <div class="gh-staff-list">
        {{if .Staff}}
        {{range .Staff}}
        <a href="/obake/staff/{{.Username}}/" class="gh-staff-card">
            <div class="gh-staff-card-avatar">
                <img src="{{gravatar .Email 80}}" alt="" class="gh-staff-avatar">
                {{if .AvatarURL}}
                <img src="{{.AvatarURL}}" alt="" class="gh-staff-avatar">
                {{end}}
            </div>
            <div class="gh-staff-card-content">
                <h3 class="gh-staff-name">{{.DisplayName}}</h3>
                <p class="gh-staff-email">{{.Email}}</p>
                <span class="gh-staff-role gh-role-{{lower .Role}}">{{.RoleLabel}}</span>
            </div>
            <div class="gh-staff-card-meta">
                <span class="gh-staff-posts">{{.PostCount}} posts</span>
            </div>
        </a>
        {{end}}
        {{else}}
        <div class="gh-empty-state">
            <svg class="gh-empty-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="M18 21a8 8 0 0 0-16 0"/>
                <circle cx="10" cy="8" r="5"/>
                <path d="M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3"/>
            </svg>
            <h3>No staff members</h3>
            <p>Invite your team to collaborate</p>
        </div>
        {{end}}
    </div>
</div>

<!-- Invite Modal -->
<div class="gh-modal" id="inviteModal" style="display:none">
    <div class="gh-modal-backdrop" onclick="hideInviteModal()"></div>
    <div class="gh-modal-content">
        <div class="gh-modal-header">
            <h2>Invite a new staff user</h2>
            <button class="gh-modal-close" onclick="hideInviteModal()">&times;</button>
        </div>
        <form class="gh-modal-body" method="POST" action="/obake/staff/invite/">
            <div class="gh-form-group">
                <label class="gh-form-label">Email address</label>
                <input type="email" name="email" class="gh-form-input" placeholder="jamie@example.com" required>
            </div>
            <div class="gh-form-group">
                <label class="gh-form-label">Role</label>
                <select name="role" class="gh-form-select">
                    <option value="contributor">Contributor - Can write posts but cannot publish</option>
                    <option value="author">Author - Can write and publish their own posts</option>
                    <option value="editor">Editor - Can manage all content</option>
                    <option value="administrator">Administrator - Full access</option>
                </select>
            </div>
            <div class="gh-modal-footer">
                <button type="button" class="gh-btn gh-btn-secondary" onclick="hideInviteModal()">Cancel</button>
                <button type="submit" class="gh-btn gh-btn-primary">Send invitation</button>
            </div>
        </form>
    </div>
</div>

<script>
function showInviteModal() {
    document.getElementById('inviteModal').style.display = 'flex';
}
function hideInviteModal() {
    document.getElementById('inviteModal').style.display = 'none';
}
</script>
{{end}}
