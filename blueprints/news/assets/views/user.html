{{template "layout" .}}

{{define "content"}}
<div class="user-page">
    <h2>{{.Profile.Username}}</h2>

    <div class="user-info">
        <dl>
            <dt>Created:</dt>
            <dd>{{.Profile.CreatedAt | timeago}}</dd>

            <dt>Karma:</dt>
            <dd>{{.Profile.Karma}}</dd>

            {{if .Profile.About}}
            <dt>About:</dt>
            <dd>{{.Profile.About}}</dd>
            {{end}}
        </dl>
    </div>

    <h3>Submissions</h3>
    <ol class="stories">
        {{range $i, $story := .Stories}}
        <li class="story-item">
            <span class="story-rank">{{add $i 1}}.</span>
            <div class="story-content">
                <div class="story-title">
                    {{if $story.URL}}
                        <a href="{{$story.URL}}" rel="nofollow">{{$story.Title}}</a>
                        <span class="story-domain">({{$story.Domain}})</span>
                    {{else}}
                        <a href="/story/{{$story.ID}}">{{$story.Title}}</a>
                    {{end}}
                </div>
                <div class="story-meta">
                    {{$story.Score}} points {{$story.CreatedAt | timeago}} |
                    <a href="/story/{{$story.ID}}">{{$story.CommentCount}} comments</a>
                </div>
            </div>
        </li>
        {{end}}
    </ol>
</div>
{{end}}
