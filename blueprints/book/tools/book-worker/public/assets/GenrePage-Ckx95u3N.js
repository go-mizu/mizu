import{b as x,j as s,H as h}from"./index-nVKRkTIH.js";import{h as p,r as t,L as g}from"./react-vendor-bJoUFh3v.js";import{B as j}from"./BookGrid-me2aWqC7.js";import{A as u}from"./ui-Fk1kDDOZ.js";function B(){const{genre:a}=p(),[o,c]=t.useState([]),[d,i]=t.useState(!0),[n,r]=t.useState(1),[l,m]=t.useState(0);return t.useEffect(()=>{a&&(i(!0),x.getBooksByGenre(a,n).then(e=>{c(e.books),m(e.total_count)}).catch(()=>{}).finally(()=>i(!1)))},[a,n]),s.jsxs(s.Fragment,{children:[s.jsx(h,{}),s.jsxs("div",{className:"page-container",children:[s.jsxs(g,{to:"/browse",className:"back-link",children:[s.jsx(u,{size:14})," Back to Browse"]}),s.jsx("h1",{className:"page-title page-title-lg",children:decodeURIComponent(a||"")}),d?s.jsx("div",{className:"loading-spinner",children:s.jsx("div",{className:"spinner"})}):o.length===0?s.jsxs("div",{className:"empty-state",children:[s.jsx("h3",{children:"No books found"}),s.jsx("p",{children:"No books in this genre yet."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"page-subtitle",children:[l," books"]}),s.jsx(j,{books:o}),l>20&&s.jsxs("div",{className:"pagination-row",children:[s.jsx("button",{className:"btn btn-secondary",disabled:n<=1,onClick:()=>r(e=>e-1),children:"Previous"}),s.jsxs("span",{className:"pagination-text",children:["Page ",n]}),s.jsx("button",{className:"btn btn-secondary",disabled:o.length<20,onClick:()=>r(e=>e+1),children:"Next"})]})]})]})]})}export{B as default};
