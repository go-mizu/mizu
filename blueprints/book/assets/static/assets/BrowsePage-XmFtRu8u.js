import{j as e,H as o,b as c}from"./index-CR0Xjtpx.js";import{r as a,L as f}from"./react-vendor-bJoUFh3v.js";import{B as m}from"./BookGrid-DUWYRpzv.js";import{h as w,i as k,d as v}from"./ui-D_Yei50m.js";function D(){const[n,x]=a.useState([]),[i,j]=a.useState([]),[r,p]=a.useState([]),[g,l]=a.useState(!0),[d,h]=a.useState(null);return a.useEffect(()=>{(async()=>{l(!0),h(null);try{const[t,u,N]=await Promise.all([c.getPopular(12),c.getNewReleases(12),c.getGenres()]);x(t),j(u),p(N)}catch(t){h(t instanceof Error?t.message:"Failed to load browse data")}finally{l(!1)}})()},[]),g?e.jsxs(e.Fragment,{children:[e.jsx(o,{}),e.jsx("div",{className:"loading-spinner",children:e.jsx("div",{className:"spinner"})})]}):d?e.jsxs(e.Fragment,{children:[e.jsx(o,{}),e.jsx("div",{className:"page-container",children:e.jsxs("div",{className:"empty-state",children:[e.jsx("h3",{children:"Something went wrong"}),e.jsx("p",{children:d})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{}),e.jsxs("div",{className:"page-container fade-in",children:[n.length>0&&e.jsxs("section",{className:"page-section",children:[e.jsx("div",{className:"section-header",children:e.jsxs("span",{className:"section-title section-title-with-icon",children:[e.jsx(w,{size:18}),"Popular"]})}),e.jsx(m,{books:n})]}),i.length>0&&e.jsxs("section",{className:"page-section",children:[e.jsx("div",{className:"section-header",children:e.jsxs("span",{className:"section-title section-title-with-icon",children:[e.jsx(k,{size:18}),"New Releases"]})}),e.jsx(m,{books:i})]}),r.length>0&&e.jsxs("section",{className:"page-section",children:[e.jsx("div",{className:"section-header",children:e.jsxs("span",{className:"section-title section-title-with-icon",children:[e.jsx(v,{size:18}),"Genres"]})}),e.jsx("div",{className:"genre-list",children:r.map(s=>e.jsxs(f,{to:`/genre/${encodeURIComponent(s.name)}`,className:"genre-tag genre-pill",children:[s.name,s.book_count>0&&e.jsxs("span",{className:"genre-count",children:["(",s.book_count,")"]})]},s.name))})]}),n.length===0&&i.length===0&&r.length===0&&e.jsxs("div",{className:"empty-state",children:[e.jsx("h3",{children:"Nothing to browse yet"}),e.jsx("p",{children:"Add some books to get started."})]})]})]})}export{D as default};
