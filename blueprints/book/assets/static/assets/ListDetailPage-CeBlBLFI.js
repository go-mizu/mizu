import{b as o,j as s,H as a}from"./index-CR0Xjtpx.js";import{h as x,r,L as m}from"./react-vendor-bJoUFh3v.js";import{B as j}from"./BookCard-CXzI_kTH.js";import{A as u,U as p,k as b,l as k}from"./ui-D_Yei50m.js";import"./ShelfButton-RoCdupez.js";import"./middleware-WYGlAF-S.js";function S(){const{id:i}=x(),[e,l]=r.useState(null),[c,d]=r.useState(!0);r.useEffect(()=>{i&&o.getList(Number(i)).then(l).catch(()=>{}).finally(()=>d(!1))},[i]);const h=t=>{e&&o.voteList(e.id,t).catch(()=>{})};if(c)return s.jsxs(s.Fragment,{children:[s.jsx(a,{}),s.jsx("div",{className:"loading-spinner",children:s.jsx("div",{className:"spinner"})})]});if(!e)return s.jsxs(s.Fragment,{children:[s.jsx(a,{}),s.jsx("div",{className:"empty-state",children:s.jsx("h3",{children:"List not found"})})]});const n=e.items||[];return s.jsxs(s.Fragment,{children:[s.jsx(a,{}),s.jsxs("div",{className:"page-container",children:[s.jsxs(m,{to:"/lists",className:"back-link",children:[s.jsx(u,{size:14})," Back to Lists"]}),s.jsxs("div",{className:"list-detail-header",children:[s.jsx("h1",{className:"list-detail-title",children:e.title}),e.description&&s.jsx("p",{className:"page-subtitle",children:e.description}),s.jsxs("div",{className:"list-detail-meta",children:[s.jsxs("span",{children:[e.item_count," books"]}),e.voter_count>0&&s.jsxs("span",{className:"meta-with-icon",children:[s.jsx(p,{size:13})," ",e.voter_count.toLocaleString()," voters"]}),e.source_url&&s.jsxs("a",{href:e.source_url,target:"_blank",rel:"noopener noreferrer",className:"meta-link",children:[s.jsx(b,{size:13})," View source list"]})]})]}),n.length>0?s.jsx("div",{children:n.map(t=>t.book&&s.jsxs("div",{className:"list-detail-item",children:[s.jsx("div",{className:"list-rank-badge",children:t.position}),s.jsxs("div",{className:"list-detail-book",children:[s.jsx(j,{book:t.book}),t.votes>0&&s.jsxs("div",{className:"list-source-score",children:["Source score: ",t.votes.toLocaleString()]})]}),s.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:()=>h(t.book_id),children:[s.jsx(k,{size:14})," ",t.votes>0?t.votes:""]})]},t.id))}):s.jsxs("div",{className:"empty-state",children:[s.jsx("h3",{children:"No books in this list"}),s.jsx("p",{children:"Add books to get started."})]})]})]})}export{S as default};
