import{b as a,j as e,H as i}from"./index-D_4FLS-X.js";import{h as m,r as n,L as g}from"./react-vendor-bJoUFh3v.js";import{B as h}from"./BookCard-BhnNLfSz.js";import{A as p,U as j,k as f,l as u}from"./ui-D_Yei50m.js";import"./ShelfButton-YBBNoQqA.js";import"./middleware-WYGlAF-S.js";function N(){const{id:r}=m(),[s,l]=n.useState(null),[c,d]=n.useState(!0);n.useEffect(()=>{r&&a.getList(Number(r)).then(l).catch(()=>{}).finally(()=>d(!1))},[r]);const x=t=>{s&&a.voteList(s.id,t).catch(()=>{})};if(c)return e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsx("div",{className:"loading-spinner",children:e.jsx("div",{className:"spinner"})})]});if(!s)return e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsx("div",{className:"empty-state",children:e.jsx("h3",{children:"List not found"})})]});const o=s.items||[];return e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsxs("div",{className:"page-container",children:[e.jsxs(g,{to:"/lists",style:{display:"inline-flex",alignItems:"center",gap:4,fontSize:13,color:"var(--gr-teal)",textDecoration:"none",marginBottom:16},children:[e.jsx(p,{size:14})," Back to Lists"]}),e.jsxs("div",{style:{marginBottom:24},children:[e.jsx("h1",{style:{fontFamily:"'Merriweather', Georgia, serif",fontSize:24,fontWeight:900,color:"var(--gr-brown)",margin:"0 0 8px"},children:s.title}),s.description&&e.jsx("p",{style:{color:"var(--gr-light)",fontSize:14,marginBottom:8},children:s.description}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,fontSize:13,color:"var(--gr-light)"},children:[e.jsxs("span",{children:[s.item_count," books"]}),s.voter_count>0&&e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4},children:[e.jsx(j,{size:13})," ",s.voter_count.toLocaleString()," voters"]}),s.goodreads_url&&e.jsxs("a",{href:s.goodreads_url,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:4,color:"var(--gr-teal)",textDecoration:"none"},children:[e.jsx(f,{size:13})," View on Goodreads"]})]})]}),o.length>0?e.jsx("div",{children:o.map(t=>t.book&&e.jsxs("div",{style:{display:"flex",alignItems:"start",gap:8,marginBottom:12},children:[e.jsx("div",{style:{flex:1},children:e.jsx(h,{book:t.book})}),e.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:()=>x(t.book_id),style:{flexShrink:0,marginTop:8},children:[e.jsx(u,{size:14})," ",t.votes>0?t.votes:""]})]},t.id))}):e.jsxs("div",{className:"empty-state",children:[e.jsx("h3",{children:"No books in this list"}),e.jsx("p",{children:"Add books to get started."})]})]})]})}export{N as default};
