import{b as m,j as e,H as h}from"./index-D_4FLS-X.js";import{h as g,r as t,L as b}from"./react-vendor-bJoUFh3v.js";import{B as j}from"./BookGrid-CKHRnQ91.js";import{A as f}from"./ui-D_Yei50m.js";function v(){const{genre:n}=g(),[o,c]=t.useState([]),[d,r]=t.useState(!0),[a,i]=t.useState(1),[l,x]=t.useState(0);return t.useEffect(()=>{n&&(r(!0),m.getBooksByGenre(n,a).then(s=>{c(s.books),x(s.total_count)}).catch(()=>{}).finally(()=>r(!1)))},[n,a]),e.jsxs(e.Fragment,{children:[e.jsx(h,{}),e.jsxs("div",{className:"page-container",children:[e.jsxs(b,{to:"/browse",className:"inline-flex items-center gap-1 text-sm text-gr-teal mb-4 hover:underline",children:[e.jsx(f,{size:14})," Back to Browse"]}),e.jsx("h1",{className:"font-serif text-2xl font-bold text-gr-brown mb-6",children:decodeURIComponent(n||"")}),d?e.jsx("div",{className:"loading-spinner",children:e.jsx("div",{className:"spinner"})}):o.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("h3",{children:"No books found"}),e.jsx("p",{children:"No books in this genre yet."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm text-gr-light mb-4",children:[l," books"]}),e.jsx(j,{books:o}),l>20&&e.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[e.jsx("button",{className:"btn btn-secondary",disabled:a<=1,onClick:()=>i(s=>s-1),children:"Previous"}),e.jsxs("span",{className:"flex items-center text-sm text-gr-light",children:["Page ",a]}),e.jsx("button",{className:"btn btn-secondary",disabled:o.length<20,onClick:()=>i(s=>s+1),children:"Next"})]})]})]})]})}export{v as default};
