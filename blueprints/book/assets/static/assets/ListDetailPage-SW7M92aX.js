import{b as o,j as s,H as n}from"./index-C-ixEFdY.js";import{h as m,r,L as h}from"./react-vendor-bJoUFh3v.js";import{B as j}from"./BookCard-CEOB1_wh.js";import{A as p,k as f}from"./ui-RIRksdBL.js";import"./ShelfButton-DeyYxMQ2.js";import"./middleware-WYGlAF-S.js";function L(){const{id:i}=m(),[t,l]=r.useState(null),[c,d]=r.useState(!0);r.useEffect(()=>{i&&o.getList(Number(i)).then(l).catch(()=>{}).finally(()=>d(!1))},[i]);const x=e=>{t&&o.voteList(t.id,e).catch(()=>{})};if(c)return s.jsxs(s.Fragment,{children:[s.jsx(n,{}),s.jsx("div",{className:"loading-spinner",children:s.jsx("div",{className:"spinner"})})]});if(!t)return s.jsxs(s.Fragment,{children:[s.jsx(n,{}),s.jsx("div",{className:"empty-state",children:s.jsx("h3",{children:"List not found"})})]});const a=t.items||[];return s.jsxs(s.Fragment,{children:[s.jsx(n,{}),s.jsxs("div",{className:"page-container",children:[s.jsxs(h,{to:"/lists",className:"inline-flex items-center gap-1 text-sm text-gr-teal mb-4 hover:underline",children:[s.jsx(p,{size:14})," Back to Lists"]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"font-serif text-2xl font-bold text-gr-brown",children:t.title}),t.description&&s.jsx("p",{className:"text-gr-light mt-2",children:t.description}),s.jsxs("p",{className:"text-sm text-gr-light mt-2",children:[t.item_count," books"]})]}),a.length>0?s.jsx("div",{children:a.map(e=>e.book&&s.jsxs("div",{style:{display:"flex",alignItems:"start",gap:8,marginBottom:12},children:[s.jsx("div",{style:{flex:1},children:s.jsx(j,{book:e.book})}),s.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:()=>x(e.book_id),style:{flexShrink:0,marginTop:8},children:[s.jsx(f,{size:14})," ",e.votes>0?e.votes:""]})]},e.id))}):s.jsxs("div",{className:"empty-state",children:[s.jsx("h3",{children:"No books in this list"}),s.jsx("p",{children:"Add books to get started."})]})]})]})}export{L as default};
