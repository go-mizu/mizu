import{b as a,j as e,H as i}from"./index-D7mXrCI9.js";import{h as x,r as o,L as h}from"./react-vendor-bJoUFh3v.js";import{B as m}from"./BookCard-B3o9SENT.js";import{A as p,U as f,k as j,l as v}from"./ui-D_Yei50m.js";import"./ShelfButton-D1Z9JvPU.js";import"./middleware-WYGlAF-S.js";function z(){const{id:r}=x(),[s,l]=o.useState(null),[c,d]=o.useState(!0);o.useEffect(()=>{r&&a.getList(Number(r)).then(l).catch(()=>{}).finally(()=>d(!1))},[r]);const g=t=>{s&&a.voteList(s.id,t).catch(()=>{})};if(c)return e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsx("div",{className:"loading-spinner",children:e.jsx("div",{className:"spinner"})})]});if(!s)return e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsx("div",{className:"empty-state",children:e.jsx("h3",{children:"List not found"})})]});const n=s.items||[];return e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsxs("div",{className:"page-container",children:[e.jsxs(h,{to:"/lists",style:{display:"inline-flex",alignItems:"center",gap:4,fontSize:13,color:"var(--gr-teal)",textDecoration:"none",marginBottom:16},children:[e.jsx(p,{size:14})," Back to Lists"]}),e.jsxs("div",{style:{marginBottom:24},children:[e.jsx("h1",{style:{fontFamily:"'Merriweather', Georgia, serif",fontSize:24,fontWeight:900,color:"var(--gr-brown)",margin:"0 0 8px"},children:s.title}),s.description&&e.jsx("p",{style:{color:"var(--gr-light)",fontSize:14,marginBottom:8},children:s.description}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,fontSize:13,color:"var(--gr-light)"},children:[e.jsxs("span",{children:[s.item_count," books"]}),s.voter_count>0&&e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4},children:[e.jsx(f,{size:13})," ",s.voter_count.toLocaleString()," voters"]}),s.goodreads_url&&e.jsxs("a",{href:s.goodreads_url,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:4,color:"var(--gr-teal)",textDecoration:"none"},children:[e.jsx(j,{size:13})," View source list"]})]})]}),n.length>0?e.jsx("div",{children:n.map(t=>t.book&&e.jsxs("div",{style:{display:"flex",alignItems:"start",gap:8,marginBottom:12},children:[e.jsx("div",{style:{width:34,height:34,borderRadius:"999px",background:"var(--gr-cream)",border:"1px solid var(--gr-border)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:13,fontWeight:700,color:"var(--gr-brown)",marginTop:8,flexShrink:0},children:t.position}),e.jsxs("div",{style:{flex:1},children:[e.jsx(m,{book:t.book}),t.votes>0&&e.jsxs("div",{style:{marginTop:-4,marginBottom:10,fontSize:12,color:"var(--gr-light)"},children:["Source score: ",t.votes.toLocaleString()]})]}),e.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:()=>g(t.book_id),style:{flexShrink:0,marginTop:8},children:[e.jsx(v,{size:14})," ",t.votes>0?t.votes:""]})]},t.id))}):e.jsxs("div",{className:"empty-state",children:[e.jsx("h3",{children:"No books in this list"}),e.jsx("p",{children:"Add books to get started."})]})]})]})}export{z as default};
