import{b as d,j as e,H as u}from"./index-smKHW-e9.js";import{r as t,L as g}from"./react-vendor-bJoUFh3v.js";import{P as b,B as f,j as N}from"./ui-CwMuETwS.js";function L(){const[i,l]=t.useState([]),[m,x]=t.useState(!0),[h,a]=t.useState(!1),[r,n]=t.useState(""),[o,c]=t.useState("");t.useEffect(()=>{d.getLists().then(l).catch(()=>{}).finally(()=>x(!1))},[]);const p=()=>{r.trim()&&d.createList({title:r,description:o}).then(s=>{l(j=>[...j,s]),a(!1),n(""),c("")}).catch(()=>{})};return e.jsxs(e.Fragment,{children:[e.jsx(u,{}),e.jsxs("div",{className:"page-container",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h1",{className:"section-title",children:"Listopia"}),e.jsxs("button",{className:"btn btn-primary",onClick:()=>a(!0),children:[e.jsx(b,{size:16})," Create List"]})]}),m?e.jsx("div",{className:"loading-spinner",children:e.jsx("div",{className:"spinner"})}):i.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("h3",{children:"No lists yet"}),e.jsx("p",{children:"Create your first book list to get started."}),e.jsx("button",{className:"btn btn-primary",onClick:()=>a(!0),children:"Create List"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(s=>e.jsxs(g,{to:`/list/${s.id}`,className:"block p-4 border border-gr-border rounded-lg hover:bg-gr-cream transition-colors no-underline",children:[e.jsx("h3",{className:"font-serif font-bold text-gr-brown mb-1",children:s.title}),s.description&&e.jsx("p",{className:"text-sm text-gr-light mb-3 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gr-light",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(f,{size:12})," ",s.book_count," books"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(N,{size:12})," ",s.vote_count," votes"]})]})]},s.id))}),h&&e.jsx("div",{className:"modal-overlay",onClick:()=>a(!1),children:e.jsxs("div",{className:"modal",onClick:s=>s.stopPropagation(),children:[e.jsx("h2",{children:"Create New List"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Title"}),e.jsx("input",{className:"form-input",value:r,onChange:s=>n(s.target.value),placeholder:"Best Books of 2024"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Description"}),e.jsx("textarea",{className:"form-input",value:o,onChange:s=>c(s.target.value),placeholder:"A curated list of..."})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>a(!1),children:"Cancel"}),e.jsx("button",{className:"btn btn-primary",onClick:p,children:"Create"})]})]})})]})]})}export{L as default};
