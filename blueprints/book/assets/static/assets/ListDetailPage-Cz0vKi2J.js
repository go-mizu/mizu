import{b as o,j as s,H as n}from"./index-smKHW-e9.js";import{h as m,r,L as x}from"./react-vendor-bJoUFh3v.js";import{B as h}from"./BookCard-B83x_7cL.js";import{A as j,j as u}from"./ui-CwMuETwS.js";import"./ShelfButton-CIJiR5zA.js";import"./middleware-WYGlAF-S.js";function L(){const{id:i}=m(),[t,a]=r.useState(null),[l,c]=r.useState(!0);r.useEffect(()=>{i&&o.getList(Number(i)).then(a).catch(()=>{}).finally(()=>c(!1))},[i]);const d=()=>{t&&o.voteList(t.id).then(()=>a(e=>e?{...e,vote_count:e.vote_count+1}:null)).catch(()=>{})};return l?s.jsxs(s.Fragment,{children:[s.jsx(n,{}),s.jsx("div",{className:"loading-spinner",children:s.jsx("div",{className:"spinner"})})]}):t?s.jsxs(s.Fragment,{children:[s.jsx(n,{}),s.jsxs("div",{className:"page-container",children:[s.jsxs(x,{to:"/lists",className:"inline-flex items-center gap-1 text-sm text-gr-teal mb-4 hover:underline",children:[s.jsx(j,{size:14})," Back to Lists"]}),s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"font-serif text-2xl font-bold text-gr-brown",children:t.title}),t.description&&s.jsx("p",{className:"text-gr-light mt-2",children:t.description}),s.jsxs("p",{className:"text-sm text-gr-light mt-2",children:[t.book_count," books"]})]}),s.jsxs("button",{className:"btn btn-secondary",onClick:d,children:[s.jsx(u,{size:16})," ",t.vote_count]})]}),t.items&&t.items.length>0?s.jsx("div",{children:t.items.map(e=>s.jsx(h,{book:e},e.id))}):s.jsxs("div",{className:"empty-state",children:[s.jsx("h3",{children:"No books in this list"}),s.jsx("p",{children:"Add books to get started."})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(n,{}),s.jsx("div",{className:"empty-state",children:s.jsx("h3",{children:"List not found"})})]})}export{L as default};
