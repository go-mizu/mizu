{{define "search.html"}}
{{template "default.html" .}}
{{end}}

{{define "content"}}
<tr>
    <td>
        <table border="0" cellpadding="0" cellspacing="0">
        <tr>
            <td style="padding: 20px;">
                <form method="get" action="/search">
                    Search: <input type="text" name="q" value="{{.Data.Query}}" size="40" autofocus>
                    <input type="submit" value="search">
                </form>
            </td>
        </tr>
        </table>
    </td>
</tr>

{{if .Data.Query}}
<tr>
    <td>
        <table border="0" cellpadding="0" cellspacing="0">
        {{if .Data.Boards}}
        <tr>
            <td style="padding: 10px 20px;">
                <b>Communities</b>
                <table border="0" style="margin-top: 10px;">
                {{range .Data.Boards}}
                <tr>
                    <td style="padding: 3px 0;">
                        <a href="/b/{{.Name}}">b/{{.Name}}</a>
                        <span style="font-size: 8pt; color: #828282;"> - {{formatNumber .MemberCount}} members</span>
                    </td>
                </tr>
                {{end}}
                </table>
            </td>
        </tr>
        {{end}}

        {{if .Data.Users}}
        <tr>
            <td style="padding: 10px 20px;">
                <b>Users</b>
                <table border="0" style="margin-top: 10px;">
                {{range .Data.Users}}
                <tr>
                    <td style="padding: 3px 0;">
                        <a href="/u/{{.Username}}">{{.Username}}</a>
                        <span style="font-size: 8pt; color: #828282;"> - {{formatScore .Karma}} karma</span>
                    </td>
                </tr>
                {{end}}
                </table>
            </td>
        </tr>
        {{end}}

        {{if and (not .Data.Boards) (not .Data.Users)}}
        <tr>
            <td style="padding: 20px; color: #828282;">
                No results found for "{{.Data.Query}}"
            </td>
        </tr>
        {{end}}
        </table>
    </td>
</tr>
{{end}}

<tr style="height:10px"></tr>
<tr>
    <td>
        <table width="100%" cellspacing="0" cellpadding="1">
        <tr>
            <td bgcolor="#ff6600"></td>
        </tr>
        </table>
    </td>
</tr>
</table>
{{end}}
