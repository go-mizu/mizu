import{j as e}from"./editor-r-fA0-4K.js";import{u as q,r as t}from"./react-vendor-N0awbyme.js";import{u as G,a as P,c as J,d as Q,b as B}from"./index-BV6Ixawy.js";import{t as W,w as U,f as X,c as Z}from"./ui-D0SrvoWH.js";import"./sanitizer-HRjpPm7y.js";const f=["#EA4335","#FBBC04","#34A853","#1A73E8","#FF6D01","#46BDC6","#AF5CF7","#F439A0","#9334E6","#E8710A","#A0C3FF","#71C287"],ee=[{value:"light",label:"Light",bg:"bg-white",border:"border-gray-300"},{value:"dark",label:"Dark",bg:"bg-gray-900",border:"border-gray-700"},{value:"system",label:"System default",bg:"bg-gradient-to-r from-white to-gray-900",border:"border-gray-400"}],ae=[{value:"default",label:"Default"},{value:"comfortable",label:"Comfortable"},{value:"compact",label:"Compact"}],te=[{value:"newer",label:"Go to newer conversation"},{value:"older",label:"Go to older conversation"},{value:"list",label:"Go back to threadlist"}],se=[5,10,20,30];function oe(){const V=q(),s=G(a=>a.settings),j=G(a=>a.updateSettings),x=P(a=>a.labels),l=P(a=>a.fetchLabels),[n,R]=t.useState("general"),[u,N]=t.useState(""),[b,w]=t.useState(""),[g,C]=t.useState(""),[i,S]=t.useState(!0),[h,k]=t.useState("newer"),[y,L]=t.useState(5),[p,_]=t.useState("default"),[d,A]=t.useState("light"),[o,E]=t.useState(!1),[c,D]=t.useState(""),[v,z]=t.useState(f[0]),[H,m]=t.useState(!1),[$,T]=t.useState(null);t.useEffect(()=>{s&&(N(s.display_name),w(s.email_address),C(s.signature),S(s.conversation_view),k(s.auto_advance),L(s.undo_send_seconds),_(s.density),A(s.theme))},[s]);const O=t.useCallback(async()=>{await j({display_name:u,email_address:b,signature:g,conversation_view:i,auto_advance:h,undo_send_seconds:y,density:p,theme:d}),E(!0),setTimeout(()=>E(!1),2e3)},[u,b,g,i,h,y,p,d,j]),F=t.useCallback(async()=>{if(c.trim())try{await J({name:c.trim(),color:v,type:"user",visible:!0}),D(""),m(!1),l()}catch{}},[c,v,l]),K=t.useCallback(async a=>{try{await Q(a),l()}catch{}},[l]),I=t.useCallback(async a=>{try{await B(a.id,{visible:!a.visible}),l()}catch{}},[l]),M=t.useCallback(async(a,r)=>{try{await B(a.id,{color:r}),T(null),l()}catch{}},[l]),Y=[{id:"general",label:"General"},{id:"labels",label:"Labels"},{id:"theme",label:"Theme"}];return e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex h-14 items-center gap-3 border-b border-gmail-border px-4",children:[e.jsx("button",{onClick:()=>V("/"),className:"flex h-10 w-10 items-center justify-center rounded-full hover:bg-gray-100","aria-label":"Back to inbox",children:e.jsx(W,{className:"h-5 w-5 text-gmail-text-secondary"})}),e.jsx("h1",{className:"text-xl text-gmail-text-primary",style:{fontFamily:"'Google Sans', sans-serif"},children:"Settings"})]}),e.jsx("div",{className:"flex border-b border-gmail-border",children:Y.map(a=>e.jsx("button",{onClick:()=>R(a.id),className:`px-6 py-3 text-sm font-medium transition-colors ${n===a.id?"border-b-2 border-gmail-blue text-gmail-blue":"text-gmail-text-secondary hover:text-gmail-text-primary"}`,children:a.label},a.id))}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"mx-auto max-w-2xl",children:[n==="general"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gmail-text-primary",children:"Display Name"}),e.jsx("input",{type:"text",value:u,onChange:a=>N(a.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm outline-none focus:border-gmail-blue focus:ring-1 focus:ring-gmail-blue"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gmail-text-primary",children:"Email Address"}),e.jsx("input",{type:"email",value:b,onChange:a=>w(a.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm outline-none focus:border-gmail-blue focus:ring-1 focus:ring-gmail-blue"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gmail-text-primary",children:"Signature"}),e.jsx("textarea",{value:g,onChange:a=>C(a.target.value),rows:5,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm outline-none focus:border-gmail-blue focus:ring-1 focus:ring-gmail-blue",placeholder:"Create a signature that will be added to the end of your emails"})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gmail-text-primary",children:"Conversation view"}),e.jsx("p",{className:"mt-0.5 text-xs text-gmail-text-secondary",children:"Group emails in the same conversation together"})]}),e.jsx("button",{onClick:()=>S(!i),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${i?"bg-gmail-blue":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${i?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gmail-text-primary",children:"Display density"}),e.jsx("div",{className:"flex gap-3",children:ae.map(a=>e.jsx("button",{onClick:()=>_(a.value),className:`flex-1 rounded-lg border px-4 py-3 text-sm transition-colors ${p===a.value?"border-gmail-blue bg-blue-50 text-gmail-blue":"border-gray-300 text-gmail-text-primary hover:bg-gray-50"}`,children:a.label},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gmail-text-primary",children:"Auto-advance"}),e.jsx("p",{className:"mb-2 text-xs text-gmail-text-secondary",children:"After you delete, archive, or mute a conversation, choose which conversation to show next"}),e.jsx("div",{className:"space-y-1.5",children:te.map(a=>e.jsxs("label",{className:"flex cursor-pointer items-center gap-3 rounded-lg px-3 py-2 hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"auto_advance",value:a.value,checked:h===a.value,onChange:r=>k(r.target.value),className:"h-4 w-4 text-gmail-blue accent-gmail-blue"}),e.jsx("span",{className:"text-sm text-gmail-text-primary",children:a.label})]},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gmail-text-primary",children:"Undo Send"}),e.jsx("p",{className:"mb-2 text-xs text-gmail-text-secondary",children:"Send cancellation period"}),e.jsx("div",{className:"flex gap-2",children:se.map(a=>e.jsxs("button",{onClick:()=>L(a),className:`rounded-lg border px-4 py-2 text-sm transition-colors ${y===a?"border-gmail-blue bg-blue-50 text-gmail-blue":"border-gray-300 text-gmail-text-primary hover:bg-gray-50"}`,children:[a," seconds"]},a))})]}),e.jsx("div",{className:"flex items-center gap-3 pt-2",children:e.jsxs("button",{onClick:O,className:"flex items-center gap-2 rounded-full bg-gmail-blue px-8 py-2.5 text-sm font-medium text-white hover:bg-gmail-blue-hover hover:shadow-sm",children:[o&&e.jsx(U,{className:"h-4 w-4"}),o?"Saved":"Save changes"]})})]}),n==="labels"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-base font-medium text-gmail-text-primary",children:"Labels"}),e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-1.5 rounded-full border border-gray-300 px-4 py-2 text-sm text-gmail-text-primary hover:bg-gray-50",children:[e.jsx(X,{className:"h-4 w-4"}),"Create new label"]})]}),H&&e.jsxs("div",{className:"flex items-end gap-3 rounded-lg border border-gmail-blue bg-blue-50 p-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"mb-1 block text-xs font-medium text-gmail-text-primary",children:"Label name"}),e.jsx("input",{type:"text",value:c,onChange:a=>D(a.target.value),onKeyDown:a=>{a.key==="Enter"&&F(),a.key==="Escape"&&m(!1)},className:"w-full rounded border border-gray-300 px-3 py-1.5 text-sm outline-none focus:border-gmail-blue",autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-xs font-medium text-gmail-text-primary",children:"Color"}),e.jsx("div",{className:"flex gap-1",children:f.map(a=>e.jsx("button",{onClick:()=>z(a),className:`h-6 w-6 rounded-full border-2 ${v===a?"border-gmail-text-primary":"border-transparent"}`,style:{backgroundColor:a}},a))})]}),e.jsx("button",{onClick:F,className:"rounded-full bg-gmail-blue px-5 py-1.5 text-sm text-white hover:bg-gmail-blue-hover",children:"Create"}),e.jsx("button",{onClick:()=>m(!1),className:"rounded-full border border-gray-300 px-5 py-1.5 text-sm hover:bg-gray-100",children:"Cancel"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-sm font-medium text-gmail-text-secondary",children:"System labels"}),e.jsx("div",{className:"divide-y divide-gray-100 rounded-lg border border-gray-200",children:x.filter(a=>a.type==="system").map(a=>e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsx("span",{className:"text-sm text-gmail-text-primary",children:a.name}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-xs text-gmail-text-secondary",children:[a.total_count," messages"]}),e.jsx("button",{onClick:()=>I(a),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${a.visible?"bg-gmail-blue":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-3.5 w-3.5 transform rounded-full bg-white transition-transform ${a.visible?"translate-x-4.5":"translate-x-0.5"}`})})]})]},a.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-sm font-medium text-gmail-text-secondary",children:"Custom labels"}),x.filter(a=>a.type==="user").length===0?e.jsx("p",{className:"rounded-lg border border-gray-200 px-4 py-6 text-center text-sm text-gmail-text-secondary",children:"No custom labels yet. Create one above."}):e.jsx("div",{className:"divide-y divide-gray-100 rounded-lg border border-gray-200",children:x.filter(a=>a.type==="user").map(a=>e.jsxs("div",{className:"relative flex items-center justify-between px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>T($===a.id?null:a.id),className:"h-4 w-4 rounded-full border border-gray-300",style:{backgroundColor:a.color||"#5F6368"}}),e.jsx("span",{className:"text-sm text-gmail-text-primary",children:a.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-gmail-text-secondary",children:[a.total_count," messages"]}),e.jsx("button",{onClick:()=>I(a),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${a.visible?"bg-gmail-blue":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-3.5 w-3.5 transform rounded-full bg-white transition-transform ${a.visible?"translate-x-4.5":"translate-x-0.5"}`})}),e.jsx("button",{onClick:()=>K(a.id),className:"flex h-7 w-7 items-center justify-center rounded-full text-gmail-text-secondary hover:bg-gray-100 hover:text-red-500",title:"Delete label",children:e.jsx(Z,{className:"h-4 w-4"})})]}),$===a.id&&e.jsxs("div",{className:"absolute right-4 top-full z-10 mt-1 rounded-lg border border-gray-200 bg-white p-3 shadow-lg",children:[e.jsx("p",{className:"mb-2 text-xs font-medium text-gmail-text-secondary",children:"Choose color"}),e.jsx("div",{className:"flex gap-1.5",children:f.map(r=>e.jsx("button",{onClick:()=>M(a,r),className:`h-6 w-6 rounded-full border-2 ${a.color===r?"border-gmail-text-primary":"border-transparent hover:border-gray-400"}`,style:{backgroundColor:r}},r))})]})]},a.id))})]})]}),n==="theme"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mb-4 text-base font-medium text-gmail-text-primary",children:"Theme"}),e.jsx("div",{className:"flex gap-4",children:ee.map(a=>e.jsxs("button",{onClick:()=>A(a.value),className:`flex flex-col items-center gap-2 rounded-xl border-2 p-4 transition-all ${d===a.value?"border-gmail-blue shadow-sm":"border-gray-200 hover:border-gray-400"}`,children:[e.jsx("div",{className:`h-20 w-28 rounded-lg ${a.bg} ${a.border} border`}),e.jsx("span",{className:`text-sm font-medium ${d===a.value?"text-gmail-blue":"text-gmail-text-primary"}`,children:a.label})]},a.value))})]}),e.jsx("div",{className:"flex items-center gap-3 pt-4",children:e.jsxs("button",{onClick:O,className:"flex items-center gap-2 rounded-full bg-gmail-blue px-8 py-2.5 text-sm font-medium text-white hover:bg-gmail-blue-hover hover:shadow-sm",children:[o&&e.jsx(U,{className:"h-4 w-4"}),o?"Saved":"Save changes"]})})]})]})})]})}export{oe as default};
