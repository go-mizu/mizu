{{define "content"}}
{{if .Error}}
<div class="text-center py-8">
  <div class="w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center">
    <svg class="w-8 h-8 text-red-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="10"/>
      <line x1="12" x2="12" y1="8" y2="12"/>
      <line x1="12" x2="12.01" y1="16" y2="16"/>
    </svg>
  </div>
  <h2 class="text-xl font-semibold text-zinc-900 mb-2">Link not found</h2>
  <p class="text-zinc-500 mb-6">{{.Error}}</p>
  <a href="/" class="btn btn-primary">Go to Drive</a>
</div>
{{else if .IsProtected}}
<div class="text-center py-8">
  <div class="w-16 h-16 mx-auto mb-4 bg-zinc-100 rounded-full flex items-center justify-center">
    <svg class="w-8 h-8 text-zinc-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <rect width="18" height="11" x="3" y="11" rx="2" ry="2"/>
      <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
    </svg>
  </div>
  <h2 class="text-xl font-semibold text-zinc-900 mb-2">Password required</h2>
  <p class="text-zinc-500 mb-6">This link is password protected</p>
  <form class="max-w-xs mx-auto" method="POST">
    <input type="password" name="password" class="input mb-4" placeholder="Enter password" required autofocus>
    <button type="submit" class="btn btn-primary w-full">Access file</button>
  </form>
</div>
{{else if .File}}
<div class="text-center py-8">
  <div class="w-20 h-20 mx-auto mb-4 bg-zinc-100 rounded-xl flex items-center justify-center">
    <svg class="w-10 h-10 text-zinc-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
      <polyline points="14 2 14 8 20 8"/>
    </svg>
  </div>
  <h2 class="text-xl font-semibold text-zinc-900 mb-1">{{.File.Name}}</h2>
  <p class="text-zinc-500 mb-6">{{formatSize .File.Size}}</p>
  <a href="/api/v1/shares/link/{{.Share.Token}}/download" class="btn btn-primary">
    <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
      <polyline points="7 10 12 15 17 10"/>
      <line x1="12" x2="12" y1="15" y2="3"/>
    </svg>
    Download
  </a>
</div>
{{else if .Folder}}
<div>
  <div class="flex items-center gap-4 mb-6">
    <div class="w-12 h-12 bg-zinc-100 rounded-lg flex items-center justify-center">
      <svg class="w-6 h-6 text-zinc-400" viewBox="0 0 24 24" fill="currentColor" opacity="0.3" stroke="currentColor" stroke-width="1.5">
        <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
      </svg>
    </div>
    <div>
      <h2 class="text-xl font-semibold text-zinc-900">{{.Folder.Name}}</h2>
      <p class="text-zinc-500">Shared folder</p>
    </div>
  </div>

  {{if len .Files}}
  <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
    {{range .Files}}
    <div class="group relative flex flex-col items-center p-4 rounded-xl border border-zinc-200 hover:bg-zinc-50 transition-all cursor-pointer">
      <div class="w-12 h-12 mb-3 flex items-center justify-center text-zinc-400">
        <svg class="w-full h-full" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
          <polyline points="14 2 14 8 20 8"/>
        </svg>
      </div>
      <span class="text-sm text-center text-zinc-700 font-medium truncate w-full">{{.Name}}</span>
      <span class="text-xs text-zinc-400 mt-1">{{.SizeDisplay}}</span>
    </div>
    {{end}}
  </div>
  {{else}}
  <div class="text-center py-12 text-zinc-500">
    This folder is empty
  </div>
  {{end}}
</div>
{{end}}
{{end}}
