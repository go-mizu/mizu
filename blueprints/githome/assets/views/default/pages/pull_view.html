{{define "content"}}
<div class="repo-header">
    <div class="repo-header-content">
        <div class="repo-header-title">
            <svg class="octicon color-fg-muted mr-2" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                <path d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Z"/>
            </svg>
            <a href="/{{.Repo.Owner.Login}}" class="repo-owner">{{.Repo.Owner.Login}}</a>
            <span class="repo-separator">/</span>
            <a href="/{{.Repo.FullName}}" class="repo-name">{{.Repo.Name}}</a>
        </div>
    </div>
</div>

<nav class="UnderlineNav">
    <div class="UnderlineNav-body">
        {{range .Repo.Tabs}}
        <a href="{{.URL}}" class="UnderlineNav-item{{if .Active}} selected{{end}}">
            {{if eq .Icon "code"}}
            <svg class="octicon UnderlineNav-octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"/>
            </svg>
            {{else if eq .Icon "issue-opened"}}
            <svg class="octicon UnderlineNav-octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"/>
            </svg>
            {{else if eq .Icon "git-pull-request"}}
            <svg class="octicon UnderlineNav-octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"/>
            </svg>
            {{else if eq .Icon "book"}}
            <svg class="octicon UnderlineNav-octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                <path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"/>
            </svg>
            {{else if eq .Icon "gear"}}
            <svg class="octicon UnderlineNav-octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                <path d="M8 0a8.2 8.2 0 0 1 .701.031C9.444.095 9.99.645 10.16 1.29l.288 1.107c.018.066.079.158.212.224.231.114.454.243.668.386.123.082.233.09.299.071l1.103-.303c.644-.176 1.392.021 1.82.63.27.385.506.792.704 1.218.315.675.111 1.422-.364 1.891l-.814.806c-.049.048-.098.147-.088.294.016.257.016.515 0 .772-.01.147.04.246.088.294l.814.806c.475.469.679 1.216.364 1.891a7.977 7.977 0 0 1-.704 1.217c-.428.61-1.176.807-1.82.63l-1.102-.302c-.067-.019-.177-.011-.3.071a5.909 5.909 0 0 1-.668.386c-.133.066-.194.158-.211.224l-.29 1.106c-.168.646-.715 1.196-1.458 1.26a8.006 8.006 0 0 1-1.402 0c-.743-.064-1.289-.614-1.458-1.26l-.289-1.106c-.018-.066-.079-.158-.212-.224a5.738 5.738 0 0 1-.668-.386c-.123-.082-.233-.09-.299-.071l-1.103.303c-.644.176-1.392-.021-1.82-.63a8.12 8.12 0 0 1-.704-1.218c-.315-.675-.111-1.422.363-1.891l.815-.806c.05-.048.098-.147.088-.294a6.214 6.214 0 0 1 0-.772c.01-.147-.04-.246-.088-.294l-.815-.806C.635 6.045.431 5.298.746 4.623a7.92 7.92 0 0 1 .704-1.217c.428-.61 1.176-.807 1.82-.63l1.102.302c.067.019.177.011.3-.071.214-.143.437-.272.668-.386.133-.066.194-.158.211-.224l.29-1.106C6.009.645 6.556.095 7.299.03 7.53.01 7.764 0 8 0Zm-.571 1.525c-.036.003-.108.036-.137.146l-.289 1.105c-.147.561-.549.967-.998 1.189-.173.086-.34.183-.5.29-.417.278-.97.423-1.529.27l-1.103-.303c-.109-.03-.175.016-.195.045-.22.312-.412.644-.573.99-.014.031-.021.11.059.19l.815.806c.411.406.562.957.53 1.456a4.709 4.709 0 0 0 0 .582c.032.499-.119 1.05-.53 1.456l-.815.806c-.081.08-.073.159-.059.19.162.346.353.677.573.989.02.03.085.076.195.046l1.102-.303c.56-.153 1.113-.008 1.53.27.161.107.328.204.501.29.447.222.85.629.997 1.189l.289 1.105c.029.109.101.143.137.146a6.6 6.6 0 0 0 1.142 0c.036-.003.108-.036.137-.146l.289-1.105c.147-.561.549-.967.998-1.189.173-.086.34-.183.5-.29.417-.278.97-.423 1.529-.27l1.103.303c.109.029.175-.016.195-.045.22-.313.411-.644.573-.99.014-.031.021-.11-.059-.19l-.815-.806c-.411-.406-.562-.957-.53-1.456a4.709 4.709 0 0 0 0-.582c-.032-.499.119-1.05.53-1.456l.815-.806c.081-.08.073-.159.059-.19a6.464 6.464 0 0 0-.573-.989c-.02-.03-.085-.076-.195-.046l-1.102.303c-.56.153-1.113.008-1.53-.27a4.44 4.44 0 0 0-.501-.29c-.447-.222-.85-.629-.997-1.189l-.289-1.105c-.029-.11-.101-.143-.137-.146a6.6 6.6 0 0 0-1.142 0ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM9.5 8a1.5 1.5 0 1 0-3.001.001A1.5 1.5 0 0 0 9.5 8Z"/>
            </svg>
            {{end}}
            <span>{{.Name}}</span>
            {{if gt .Count 0}}
            <span class="Counter">{{.Count}}</span>
            {{end}}
        </a>
        {{end}}
    </div>
</nav>

<div class="container-xl mt-4">
    <!-- PR Title and Status Header -->
    <div class="gh-header">
        <div class="gh-header-show">
            <h1 class="gh-header-title">
                <span class="gh-header-title-text">{{.Pull.Title}}</span>
                <span class="gh-header-number color-fg-muted">#{{.Pull.Number}}</span>
            </h1>
        </div>

        <!-- Status and Merge Info Row -->
        <div class="gh-header-meta">
            <div class="gh-header-meta-left">
                <!-- Status Badge -->
                {{if .Pull.Merged}}
                <span class="State State--merged">
                    <svg class="octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                        <path d="M5.45 5.154A4.25 4.25 0 0 0 9.25 7.5h1.378a2.251 2.251 0 1 1 0 1.5H9.25A5.734 5.734 0 0 1 5 7.123v3.505a2.25 2.25 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.95-.218ZM4.25 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm8.5-4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0-1.5ZM5 3.25a.75.75 0 1 0 0 .005V3.25Z"/>
                    </svg>
                    Merged
                </span>
                {{else if eq .Pull.State "open"}}
                <span class="State State--open">
                    <svg class="octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                        <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"/>
                    </svg>
                    Open
                </span>
                {{else}}
                <span class="State State--closed">
                    <svg class="octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                        <path d="M3.25 1A2.25 2.25 0 0 1 4 5.372v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.251 2.251 0 0 1 3.25 1Zm9.5 5.5a.75.75 0 0 1 .75.75v3.378a2.251 2.251 0 1 1-1.5 0V7.25a.75.75 0 0 1 .75-.75Zm-2.03-5.28a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.56 4.5h3.19a.75.75 0 0 1 0 1.5H9.56l2.22 2.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8.5 7.06l-2.22 2.22a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L7.44 6H4.25a.75.75 0 0 1 0-1.5h3.19L5.22 2.28a.749.749 0 1 1 1.06-1.06L8.5 3.44l2.22-2.22ZM3.25 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm9.5 0a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"/>
                    </svg>
                    Closed
                </span>
                {{end}}

                <!-- Merge info -->
                <span class="gh-header-meta-text">
                    {{if .Pull.User}}<a href="/{{.Pull.User.Login}}" class="author text-bold Link--secondary">{{.Pull.User.Login}}</a>{{else}}<span class="author text-bold">unknown</span>{{end}}
                    wants to merge
                    {{.Pull.Commits}} commit{{if ne .Pull.Commits 1}}s{{end}}
                    into
                    {{if .Pull.Base}}<span class="commit-ref"><a href="/{{$.Repo.FullName}}/tree/{{.Pull.Base.Ref}}" class="no-underline">{{.Pull.Base.Label}}</a></span>{{end}}
                    from
                    {{if .Pull.Head}}<span class="commit-ref"><a href="/{{$.Repo.FullName}}/tree/{{.Pull.Head.Ref}}" class="no-underline">{{.Pull.Head.Label}}</a></span>{{end}}
                </span>
            </div>
        </div>
    </div>

    <!-- PR Tabs (Conversation, Commits, Checks, Files changed) -->
    <div class="tabnav mt-3">
        <nav class="tabnav-tabs">
            <a href="#conversation" class="tabnav-tab selected" aria-current="page">
                <svg class="octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                    <path d="M1 2.75C1 1.784 1.784 1 2.75 1h10.5c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0 1 13.25 12H9.06l-2.573 2.573A1.458 1.458 0 0 1 4 13.543V12H2.75A1.75 1.75 0 0 1 1 10.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h4.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"/>
                </svg>
                <span data-content="Conversation">Conversation</span>
                {{if gt .Pull.Comments 0}}
                <span class="Counter">{{.Pull.Comments}}</span>
                {{end}}
            </a>
            <a href="#commits" class="tabnav-tab">
                <svg class="octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"/>
                </svg>
                <span data-content="Commits">Commits</span>
                {{if gt .Pull.Commits 0}}
                <span class="Counter">{{.Pull.Commits}}</span>
                {{end}}
            </a>
            <a href="#checks" class="tabnav-tab">
                <svg class="octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"/>
                </svg>
                <span data-content="Checks">Checks</span>
                {{if gt (len .Checks) 0}}
                <span class="Counter">{{len .Checks}}</span>
                {{end}}
            </a>
            <a href="#files-changed" class="tabnav-tab">
                <svg class="octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                    <path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/>
                </svg>
                <span data-content="Files changed">Files changed</span>
                {{if gt .Pull.ChangedFiles 0}}
                <span class="Counter">{{.Pull.ChangedFiles}}</span>
                {{end}}
            </a>
        </nav>

        <!-- Diff Stats -->
        {{if or (gt .Pull.Additions 0) (gt .Pull.Deletions 0)}}
        <div class="diffstat">
            <span class="color-fg-success">+{{formatNumber .Pull.Additions}}</span>
            <span class="color-fg-danger">-{{formatNumber .Pull.Deletions}}</span>
            <span class="diffstat-bar">
                {{$total := add .Pull.Additions .Pull.Deletions}}
                {{$addPercent := 0}}
                {{$delPercent := 0}}
                {{if gt $total 0}}
                {{$addPercent = mul (div (toFloat .Pull.Additions) (toFloat $total)) 100}}
                {{$delPercent = mul (div (toFloat .Pull.Deletions) (toFloat $total)) 100}}
                {{end}}
                <span class="diffstat-block-added" style="width: {{$addPercent}}%;"></span>
                <span class="diffstat-block-deleted" style="width: {{$delPercent}}%;"></span>
            </span>
        </div>
        {{end}}
    </div>

    <!-- Main Content Area -->
    <div class="Layout Layout--flowRow-until-md mt-4">
        <!-- Main Column -->
        <div class="Layout-main">
            <!-- PR Description (Original Comment) -->
            <div class="timeline-comment-wrapper" id="conversation">
                <div class="timeline-comment-avatar">
                    {{if .Pull.User}}
                    {{if .Pull.User.AvatarURL}}
                    <a href="/{{.Pull.User.Login}}">
                        <img src="{{.Pull.User.AvatarURL}}" alt="@{{.Pull.User.Login}}" class="avatar avatar-user" width="40" height="40">
                    </a>
                    {{else}}
                    <a href="/{{.Pull.User.Login}}">
                        <span class="avatar avatar-user avatar-letter" style="width: 40px; height: 40px;">{{firstChar .Pull.User.Login}}</span>
                    </a>
                    {{end}}
                    {{end}}
                </div>
                <div class="timeline-comment">
                    <div class="timeline-comment-header">
                        <div class="timeline-comment-header-text">
                            {{if .Pull.User}}
                            <a href="/{{.Pull.User.Login}}" class="author text-bold Link--secondary">{{.Pull.User.Login}}</a>
                            {{else}}
                            <span class="author text-bold">unknown</span>
                            {{end}}
                            <span class="color-fg-muted">commented</span>
                            <a href="#" class="Link--muted no-underline" title="{{.Pull.CreatedAt}}">{{.Pull.TimeAgo}}</a>
                            {{if .Pull.AuthorAssociation}}
                            <span class="Label Label--secondary">{{.Pull.AuthorAssociation}}</span>
                            {{end}}
                        </div>
                        <div class="timeline-comment-actions">
                            <details class="details-reset details-overlay details-overlay-dark position-relative">
                                <summary class="timeline-comment-action btn-octicon" aria-haspopup="true">
                                    <svg class="octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                                        <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/>
                                    </svg>
                                </summary>
                            </details>
                        </div>
                    </div>
                    <div class="timeline-comment-body">
                        {{if .Pull.BodyHTML}}
                        <div class="markdown-body">
                            {{.Pull.BodyHTML}}
                        </div>
                        {{else}}
                        <p class="color-fg-muted"><em>No description provided.</em></p>
                        {{end}}
                    </div>
                </div>
            </div>

            <!-- Timeline Comments -->
            {{if .Comments}}
            <div class="timeline-items mt-4">
                {{range .Comments}}
                <div class="timeline-comment-wrapper">
                    <div class="timeline-comment-avatar">
                        {{if .User}}
                        {{if .User.AvatarURL}}
                        <a href="/{{.User.Login}}">
                            <img src="{{.User.AvatarURL}}" alt="@{{.User.Login}}" class="avatar avatar-user" width="40" height="40">
                        </a>
                        {{else}}
                        <a href="/{{.User.Login}}">
                            <span class="avatar avatar-user avatar-letter" style="width: 40px; height: 40px;">{{firstChar .User.Login}}</span>
                        </a>
                        {{end}}
                        {{end}}
                    </div>
                    <div class="timeline-comment">
                        <div class="timeline-comment-header">
                            <div class="timeline-comment-header-text">
                                {{if .User}}
                                <a href="/{{.User.Login}}" class="author text-bold Link--secondary">{{.User.Login}}</a>
                                {{else}}
                                <span class="author text-bold">unknown</span>
                                {{end}}
                                <span class="color-fg-muted">commented</span>
                                <a href="#" class="Link--muted no-underline" title="{{.CreatedAt}}">{{.TimeAgo}}</a>
                                {{if .AuthorAssociation}}
                                <span class="Label Label--secondary">{{.AuthorAssociation}}</span>
                                {{end}}
                            </div>
                        </div>
                        <div class="timeline-comment-body">
                            {{if .BodyHTML}}
                            <div class="markdown-body">
                                {{.BodyHTML}}
                            </div>
                            {{else}}
                            <p class="color-fg-muted"><em>No description provided.</em></p>
                            {{end}}
                        </div>
                    </div>
                </div>
                {{end}}
            </div>
            {{end}}

            <!-- Commits Section -->
            {{if .Commits}}
            <div id="commits" class="mt-4">
                <h3 class="f4 mb-3">Commits</h3>
                <div class="Box">
                    {{range .Commits}}
                    <div class="Box-row d-flex">
                        <div class="flex-auto min-width-0">
                            <a href="/{{$.Repo.FullName}}/commit/{{.SHA}}" class="Link--primary text-bold">
                                {{if .Commit}}{{truncate .Commit.Message 72}}{{else}}{{truncate .SHA 7}}{{end}}
                            </a>
                            <div class="color-fg-muted f6 mt-1">
                                {{if .Author}}
                                <a href="/{{.Author.Login}}" class="Link--secondary">{{.Author.Login}}</a>
                                {{else if .Commit}}
                                {{.Commit.Author.Name}}
                                {{end}}
                                committed
                                {{if .Commit}}<span title="{{.Commit.Author.Date}}">{{formatTimeAgo .Commit.Author.Date}}</span>{{end}}
                            </div>
                        </div>
                        <div class="flex-shrink-0 ml-2">
                            <a href="/{{$.Repo.FullName}}/commit/{{.SHA}}" class="f6 Link--secondary text-mono">{{truncate .SHA 7}}</a>
                        </div>
                    </div>
                    {{end}}
                </div>
            </div>
            {{end}}

            <!-- Files Changed Section -->
            {{if .FileViews}}
            <div id="files-changed" class="mt-4">
                <h3 class="f4 mb-3">Files changed ({{len .FileViews}})</h3>
                <div class="files-changed-list">
                    {{range .FileViews}}
                    <div class="file-diff Box mb-3">
                        <div class="file-header Box-header d-flex flex-items-center">
                            <div class="file-info flex-auto">
                                <span class="diffstat-icon">
                                    {{if eq .Status "added"}}
                                    <span class="color-fg-success">+</span>
                                    {{else if eq .Status "removed"}}
                                    <span class="color-fg-danger">-</span>
                                    {{else}}
                                    <span class="color-fg-muted">~</span>
                                    {{end}}
                                </span>
                                <span class="file-diffstat">
                                    <span class="color-fg-success">+{{.Additions}}</span>
                                    <span class="color-fg-danger">-{{.Deletions}}</span>
                                </span>
                                <a href="#{{.Filename}}" class="Link--primary text-bold">{{.Filename}}</a>
                            </div>
                        </div>
                        {{if .IsBinary}}
                        <div class="Box-body">
                            <p class="color-fg-muted text-center py-4">Binary file not shown</p>
                        </div>
                        {{else if .TooLarge}}
                        <div class="Box-body">
                            <p class="color-fg-muted text-center py-4">Diff too large to display</p>
                        </div>
                        {{else if .DiffLines}}
                        <div class="Box-body p-0">
                            <table class="diff-table">
                                <tbody>
                                    {{range .DiffLines}}
                                    <tr class="diff-line diff-line-{{.Type}}">
                                        <td class="diff-line-num">{{if .OldLineNum}}{{.OldLineNum}}{{end}}</td>
                                        <td class="diff-line-num">{{if .NewLineNum}}{{.NewLineNum}}{{end}}</td>
                                        <td class="diff-line-content">{{.Content}}</td>
                                    </tr>
                                    {{end}}
                                </tbody>
                            </table>
                        </div>
                        {{else if .Patch}}
                        <div class="Box-body">
                            <pre class="diff-patch"><code>{{.Patch}}</code></pre>
                        </div>
                        {{end}}
                    </div>
                    {{end}}
                </div>
            </div>
            {{end}}

            <!-- New Comment Form (if logged in) -->
            {{if .User}}
            <div class="new-comment-form mt-4" id="new-comment">
                <div class="timeline-comment-wrapper">
                    <div class="timeline-comment-avatar">
                        {{if .User.AvatarURL}}
                        <img src="{{.User.AvatarURL}}" alt="@{{.User.Login}}" class="avatar avatar-user" width="40" height="40">
                        {{else}}
                        <span class="avatar avatar-user avatar-letter" style="width: 40px; height: 40px;">{{firstChar .User.Login}}</span>
                        {{end}}
                    </div>
                    <div class="timeline-comment new-comment-box">
                        <div class="timeline-comment-header">
                            <span class="f5 text-bold">Add a comment</span>
                        </div>
                        <div class="timeline-comment-body">
                            <form action="/{{$.Repo.FullName}}/pulls/{{.Pull.Number}}/comments" method="POST">
                                <textarea name="body" class="form-control comment-form-textarea" placeholder="Leave a comment" rows="6"></textarea>
                                <div class="form-actions mt-3">
                                    {{if .CanClose}}
                                    {{if eq .Pull.State "open"}}
                                    <button type="submit" name="action" value="close" class="btn">Close pull request</button>
                                    {{else if not .Pull.Merged}}
                                    <button type="submit" name="action" value="reopen" class="btn">Reopen pull request</button>
                                    {{end}}
                                    {{end}}
                                    <button type="submit" name="action" value="comment" class="btn btn-primary">Comment</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            {{end}}
        </div>

        <!-- Sidebar -->
        <div class="Layout-sidebar">
            <!-- Reviewers -->
            <div class="sidebar-section">
                <div class="sidebar-section-header d-flex flex-items-center">
                    <span class="f5 text-bold flex-auto">Reviewers</span>
                    {{if .CanEdit}}
                    <button class="btn-octicon btn-octicon-small" type="button">
                        <svg class="octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                            <path d="M8 0a8.2 8.2 0 0 1 .701.031C9.444.095 9.99.645 10.16 1.29l.288 1.107c.018.066.079.158.212.224.231.114.454.243.668.386.123.082.233.09.299.071l1.103-.303c.644-.176 1.392.021 1.82.63.27.385.506.792.704 1.218.315.675.111 1.422-.364 1.891l-.814.806c-.049.048-.098.147-.088.294.016.257.016.515 0 .772-.01.147.04.246.088.294l.814.806c.475.469.679 1.216.364 1.891a7.977 7.977 0 0 1-.704 1.217c-.428.61-1.176.807-1.82.63l-1.102-.302c-.067-.019-.177-.011-.3.071a5.909 5.909 0 0 1-.668.386c-.133.066-.194.158-.211.224l-.29 1.106c-.168.646-.715 1.196-1.458 1.26a8.006 8.006 0 0 1-1.402 0c-.743-.064-1.289-.614-1.458-1.26l-.289-1.106c-.018-.066-.079-.158-.212-.224a5.738 5.738 0 0 1-.668-.386c-.123-.082-.233-.09-.299-.071l-1.103.303c-.644.176-1.392-.021-1.82-.63a8.12 8.12 0 0 1-.704-1.218c-.315-.675-.111-1.422.363-1.891l.815-.806c.05-.048.098-.147.088-.294a6.214 6.214 0 0 1 0-.772c.01-.147-.04-.246-.088-.294l-.815-.806C.635 6.045.431 5.298.746 4.623a7.92 7.92 0 0 1 .704-1.217c.428-.61 1.176-.807 1.82-.63l1.102.302c.067.019.177.011.3-.071.214-.143.437-.272.668-.386.133-.066.194-.158.211-.224l.29-1.106C6.009.645 6.556.095 7.299.03 7.53.01 7.764 0 8 0Z"/>
                        </svg>
                    </button>
                    {{end}}
                </div>
                <div class="sidebar-section-body">
                    {{if .Pull.RequestedReviewers}}
                    {{range .Pull.RequestedReviewers}}
                    <div class="sidebar-user d-flex flex-items-center mb-1">
                        {{if .AvatarURL}}
                        <img src="{{.AvatarURL}}" alt="@{{.Login}}" class="avatar avatar-small mr-2" width="20" height="20">
                        {{else}}
                        <span class="avatar avatar-small avatar-letter mr-2" style="width: 20px; height: 20px;">{{firstChar .Login}}</span>
                        {{end}}
                        <a href="/{{.Login}}" class="Link--secondary">{{.Login}}</a>
                    </div>
                    {{end}}
                    {{else}}
                    <p class="color-fg-muted f6">No reviews</p>
                    <a href="https://docs.github.com/articles/about-pull-request-reviews/" class="Link--secondary f6">Still in progress? <span class="Link--primary">Learn about draft PRs</span></a>
                    {{end}}
                </div>
            </div>

            <!-- Assignees -->
            <div class="sidebar-section">
                <div class="sidebar-section-header d-flex flex-items-center">
                    <span class="f5 text-bold flex-auto">Assignees</span>
                    {{if .CanEdit}}
                    <button class="btn-octicon btn-octicon-small" type="button">
                        <svg class="octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                            <path d="M8 0a8.2 8.2 0 0 1 .701.031C9.444.095 9.99.645 10.16 1.29l.288 1.107c.018.066.079.158.212.224.231.114.454.243.668.386.123.082.233.09.299.071l1.103-.303c.644-.176 1.392.021 1.82.63.27.385.506.792.704 1.218.315.675.111 1.422-.364 1.891l-.814.806c-.049.048-.098.147-.088.294.016.257.016.515 0 .772-.01.147.04.246.088.294l.814.806c.475.469.679 1.216.364 1.891a7.977 7.977 0 0 1-.704 1.217c-.428.61-1.176.807-1.82.63l-1.102-.302c-.067-.019-.177-.011-.3.071a5.909 5.909 0 0 1-.668.386c-.133.066-.194.158-.211.224l-.29 1.106c-.168.646-.715 1.196-1.458 1.26a8.006 8.006 0 0 1-1.402 0c-.743-.064-1.289-.614-1.458-1.26l-.289-1.106c-.018-.066-.079-.158-.212-.224a5.738 5.738 0 0 1-.668-.386c-.123-.082-.233-.09-.299-.071l-1.103.303c-.644.176-1.392-.021-1.82-.63a8.12 8.12 0 0 1-.704-1.218c-.315-.675-.111-1.422.363-1.891l.815-.806c.05-.048.098-.147.088-.294a6.214 6.214 0 0 1 0-.772c.01-.147-.04-.246-.088-.294l-.815-.806C.635 6.045.431 5.298.746 4.623a7.92 7.92 0 0 1 .704-1.217c.428-.61 1.176-.807 1.82-.63l1.102.302c.067.019.177.011.3-.071.214-.143.437-.272.668-.386.133-.066.194-.158.211-.224l.29-1.106C6.009.645 6.556.095 7.299.03 7.53.01 7.764 0 8 0Z"/>
                        </svg>
                    </button>
                    {{end}}
                </div>
                <div class="sidebar-section-body">
                    {{if .Pull.Assignees}}
                    {{range .Pull.Assignees}}
                    <div class="sidebar-user d-flex flex-items-center mb-1">
                        {{if .AvatarURL}}
                        <img src="{{.AvatarURL}}" alt="@{{.Login}}" class="avatar avatar-small mr-2" width="20" height="20">
                        {{else}}
                        <span class="avatar avatar-small avatar-letter mr-2" style="width: 20px; height: 20px;">{{firstChar .Login}}</span>
                        {{end}}
                        <a href="/{{.Login}}" class="Link--secondary">{{.Login}}</a>
                    </div>
                    {{end}}
                    {{else}}
                    <p class="color-fg-muted f6">No one assigned</p>
                    {{end}}
                </div>
            </div>

            <!-- Labels -->
            <div class="sidebar-section">
                <div class="sidebar-section-header d-flex flex-items-center">
                    <span class="f5 text-bold flex-auto">Labels</span>
                    {{if .CanEdit}}
                    <button class="btn-octicon btn-octicon-small" type="button">
                        <svg class="octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                            <path d="M8 0a8.2 8.2 0 0 1 .701.031C9.444.095 9.99.645 10.16 1.29l.288 1.107c.018.066.079.158.212.224.231.114.454.243.668.386.123.082.233.09.299.071l1.103-.303c.644-.176 1.392.021 1.82.63.27.385.506.792.704 1.218.315.675.111 1.422-.364 1.891l-.814.806c-.049.048-.098.147-.088.294.016.257.016.515 0 .772-.01.147.04.246.088.294l.814.806c.475.469.679 1.216.364 1.891a7.977 7.977 0 0 1-.704 1.217c-.428.61-1.176.807-1.82.63l-1.102-.302c-.067-.019-.177-.011-.3.071a5.909 5.909 0 0 1-.668.386c-.133.066-.194.158-.211.224l-.29 1.106c-.168.646-.715 1.196-1.458 1.26a8.006 8.006 0 0 1-1.402 0c-.743-.064-1.289-.614-1.458-1.26l-.289-1.106c-.018-.066-.079-.158-.212-.224a5.738 5.738 0 0 1-.668-.386c-.123-.082-.233-.09-.299-.071l-1.103.303c-.644.176-1.392-.021-1.82-.63a8.12 8.12 0 0 1-.704-1.218c-.315-.675-.111-1.422.363-1.891l.815-.806c.05-.048.098-.147.088-.294a6.214 6.214 0 0 1 0-.772c.01-.147-.04-.246-.088-.294l-.815-.806C.635 6.045.431 5.298.746 4.623a7.92 7.92 0 0 1 .704-1.217c.428-.61 1.176-.807 1.82-.63l1.102.302c.067.019.177.011.3-.071.214-.143.437-.272.668-.386.133-.066.194-.158.211-.224l.29-1.106C6.009.645 6.556.095 7.299.03 7.53.01 7.764 0 8 0Z"/>
                        </svg>
                    </button>
                    {{end}}
                </div>
                <div class="sidebar-section-body">
                    {{if .Pull.Labels}}
                    <div class="labels-list">
                        {{range .Pull.Labels}}
                        <a href="/{{$.Repo.FullName}}/pulls?label={{.Name}}" class="IssueLabel" style="background-color: #{{.Color}}; color: {{contrastColor .Color}};">{{.Name}}</a>
                        {{end}}
                    </div>
                    {{else}}
                    <p class="color-fg-muted f6">None yet</p>
                    {{end}}
                </div>
            </div>

            <!-- Projects -->
            <div class="sidebar-section">
                <div class="sidebar-section-header d-flex flex-items-center">
                    <span class="f5 text-bold flex-auto">Projects</span>
                    {{if .CanEdit}}
                    <button class="btn-octicon btn-octicon-small" type="button">
                        <svg class="octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                            <path d="M8 0a8.2 8.2 0 0 1 .701.031C9.444.095 9.99.645 10.16 1.29l.288 1.107c.018.066.079.158.212.224.231.114.454.243.668.386.123.082.233.09.299.071l1.103-.303c.644-.176 1.392.021 1.82.63.27.385.506.792.704 1.218.315.675.111 1.422-.364 1.891l-.814.806c-.049.048-.098.147-.088.294.016.257.016.515 0 .772-.01.147.04.246.088.294l.814.806c.475.469.679 1.216.364 1.891a7.977 7.977 0 0 1-.704 1.217c-.428.61-1.176.807-1.82.63l-1.102-.302c-.067-.019-.177-.011-.3.071a5.909 5.909 0 0 1-.668.386c-.133.066-.194.158-.211.224l-.29 1.106c-.168.646-.715 1.196-1.458 1.26a8.006 8.006 0 0 1-1.402 0c-.743-.064-1.289-.614-1.458-1.26l-.289-1.106c-.018-.066-.079-.158-.212-.224a5.738 5.738 0 0 1-.668-.386c-.123-.082-.233-.09-.299-.071l-1.103.303c-.644.176-1.392-.021-1.82-.63a8.12 8.12 0 0 1-.704-1.218c-.315-.675-.111-1.422.363-1.891l.815-.806c.05-.048.098-.147.088-.294a6.214 6.214 0 0 1 0-.772c.01-.147-.04-.246-.088-.294l-.815-.806C.635 6.045.431 5.298.746 4.623a7.92 7.92 0 0 1 .704-1.217c.428-.61 1.176-.807 1.82-.63l1.102.302c.067.019.177.011.3-.071.214-.143.437-.272.668-.386.133-.066.194-.158.211-.224l.29-1.106C6.009.645 6.556.095 7.299.03 7.53.01 7.764 0 8 0Z"/>
                        </svg>
                    </button>
                    {{end}}
                </div>
                <div class="sidebar-section-body">
                    <p class="color-fg-muted f6">None yet</p>
                </div>
            </div>

            <!-- Milestone -->
            <div class="sidebar-section">
                <div class="sidebar-section-header d-flex flex-items-center">
                    <span class="f5 text-bold flex-auto">Milestone</span>
                    {{if .CanEdit}}
                    <button class="btn-octicon btn-octicon-small" type="button">
                        <svg class="octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                            <path d="M8 0a8.2 8.2 0 0 1 .701.031C9.444.095 9.99.645 10.16 1.29l.288 1.107c.018.066.079.158.212.224.231.114.454.243.668.386.123.082.233.09.299.071l1.103-.303c.644-.176 1.392.021 1.82.63.27.385.506.792.704 1.218.315.675.111 1.422-.364 1.891l-.814.806c-.049.048-.098.147-.088.294.016.257.016.515 0 .772-.01.147.04.246.088.294l.814.806c.475.469.679 1.216.364 1.891a7.977 7.977 0 0 1-.704 1.217c-.428.61-1.176.807-1.82.63l-1.102-.302c-.067-.019-.177-.011-.3.071a5.909 5.909 0 0 1-.668.386c-.133.066-.194.158-.211.224l-.29 1.106c-.168.646-.715 1.196-1.458 1.26a8.006 8.006 0 0 1-1.402 0c-.743-.064-1.289-.614-1.458-1.26l-.289-1.106c-.018-.066-.079-.158-.212-.224a5.738 5.738 0 0 1-.668-.386c-.123-.082-.233-.09-.299-.071l-1.103.303c-.644.176-1.392-.021-1.82-.63a8.12 8.12 0 0 1-.704-1.218c-.315-.675-.111-1.422.363-1.891l.815-.806c.05-.048.098-.147.088-.294a6.214 6.214 0 0 1 0-.772c.01-.147-.04-.246-.088-.294l-.815-.806C.635 6.045.431 5.298.746 4.623a7.92 7.92 0 0 1 .704-1.217c.428-.61 1.176-.807 1.82-.63l1.102.302c.067.019.177.011.3-.071.214-.143.437-.272.668-.386.133-.066.194-.158.211-.224l.29-1.106C6.009.645 6.556.095 7.299.03 7.53.01 7.764 0 8 0Z"/>
                        </svg>
                    </button>
                    {{end}}
                </div>
                <div class="sidebar-section-body">
                    {{if .Pull.Milestone}}
                    <a href="/{{$.Repo.FullName}}/milestone/{{.Pull.Milestone.Number}}" class="Link--secondary">{{.Pull.Milestone.Title}}</a>
                    {{else}}
                    <p class="color-fg-muted f6">No milestone</p>
                    {{end}}
                </div>
            </div>

            <!-- Development (linked issues) -->
            <div class="sidebar-section">
                <div class="sidebar-section-header d-flex flex-items-center">
                    <span class="f5 text-bold flex-auto">Development</span>
                </div>
                <div class="sidebar-section-body">
                    <p class="color-fg-muted f6">Successfully merging this pull request may close these issues.</p>
                </div>
            </div>

            <!-- Notifications -->
            <div class="sidebar-section">
                <div class="sidebar-section-header d-flex flex-items-center">
                    <span class="f5 text-bold flex-auto">Notifications</span>
                    <span class="color-fg-muted f6">Customize</span>
                </div>
                <div class="sidebar-section-body">
                    <button class="btn btn-sm btn-block">
                        <svg class="octicon mr-1" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                            <path d="M8 16a2 2 0 0 0 1.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 0 0 8 16ZM3 5a5 5 0 0 1 10 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.519 1.519 0 0 1 13.482 13H2.518a1.516 1.516 0 0 1-1.263-2.36l1.703-2.554A.255.255 0 0 0 3 7.947Zm5-3.5A3.5 3.5 0 0 0 4.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.017.017 0 0 0-.003.01l.001.006c0 .002.002.004.004.006l.006.004.007.001h10.964l.007-.001.006-.004.004-.006.001-.007a.017.017 0 0 0-.003-.01l-1.703-2.554a1.745 1.745 0 0 1-.294-.97V5A3.5 3.5 0 0 0 8 1.5Z"/>
                        </svg>
                        Unsubscribe
                    </button>
                    <p class="color-fg-muted f6 mt-2">You're receiving notifications because you're watching this repository.</p>
                </div>
            </div>

            <!-- Participants -->
            {{if .Participants}}
            <div class="sidebar-section">
                <div class="sidebar-section-header d-flex flex-items-center">
                    <span class="f5 text-bold flex-auto">{{len .Participants}} participant{{if ne (len .Participants) 1}}s{{end}}</span>
                </div>
                <div class="sidebar-section-body">
                    <div class="participants-avatars">
                        {{range .Participants}}
                        <a href="/{{.Login}}" class="participant-avatar" title="{{.Login}}">
                            {{if .AvatarURL}}
                            <img src="{{.AvatarURL}}" alt="@{{.Login}}" class="avatar avatar-small" width="24" height="24">
                            {{else}}
                            <span class="avatar avatar-small avatar-letter" style="width: 24px; height: 24px;">{{firstChar .Login}}</span>
                            {{end}}
                        </a>
                        {{end}}
                    </div>
                </div>
            </div>
            {{end}}
        </div>
    </div>
</div>

<style>
/* PR-specific styles */
.gh-header {
    padding-bottom: 16px;
    border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));
}

.gh-header-title {
    font-size: 32px;
    font-weight: 400;
    line-height: 1.25;
    word-wrap: break-word;
}

.gh-header-title-text {
    margin-right: 8px;
}

.gh-header-number {
    font-weight: 300;
}

.gh-header-meta {
    margin-top: 8px;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 8px;
}

.gh-header-meta-left {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 8px;
}

.gh-header-meta-text {
    color: var(--fgColor-muted, var(--color-fg-muted));
}

.commit-ref {
    display: inline-flex;
    align-items: center;
    padding: 2px 6px;
    font-size: 12px;
    font-family: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;
    background-color: var(--bgColor-accent-muted, var(--color-accent-subtle));
    border-radius: 6px;
}

.commit-ref a {
    color: var(--fgColor-accent, var(--color-accent-fg));
}

/* State Badges */
.State {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 5px 12px;
    font-size: 14px;
    font-weight: 500;
    line-height: 20px;
    border-radius: 2em;
    white-space: nowrap;
}

.State--open {
    color: #fff;
    background-color: var(--bgColor-open-emphasis, #1a7f37);
}

.State--closed {
    color: #fff;
    background-color: var(--bgColor-closed-emphasis, #cf222e);
}

.State--merged {
    color: #fff;
    background-color: var(--bgColor-done-emphasis, #8250df);
}

/* Tabnav */
.tabnav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));
}

.tabnav-tabs {
    display: flex;
    gap: 0;
    margin-bottom: -1px;
}

.tabnav-tab {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 8px 16px;
    font-size: 14px;
    line-height: 23px;
    color: var(--fgColor-default, var(--color-fg-default));
    text-decoration: none;
    border: 1px solid transparent;
    border-bottom: 0;
}

.tabnav-tab:hover {
    color: var(--fgColor-default, var(--color-fg-default));
    background-color: var(--bgColor-muted, var(--color-canvas-subtle));
}

.tabnav-tab.selected {
    color: var(--fgColor-default, var(--color-fg-default));
    background-color: var(--bgColor-default, var(--color-canvas-default));
    border-color: var(--borderColor-default, var(--color-border-default));
    border-radius: 6px 6px 0 0;
}

.tabnav-tab .Counter {
    margin-left: 4px;
}

/* Diffstat */
.diffstat {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 12px;
}

.diffstat-bar {
    display: flex;
    width: 100px;
    height: 8px;
    overflow: hidden;
    background-color: var(--bgColor-neutral-muted, var(--color-neutral-muted));
    border-radius: 3px;
}

.diffstat-block-added {
    background-color: var(--bgColor-success-emphasis, #1a7f37);
}

.diffstat-block-deleted {
    background-color: var(--bgColor-danger-emphasis, #cf222e);
}

/* Timeline Comments */
.timeline-comment-wrapper {
    position: relative;
    display: flex;
    gap: 16px;
    margin-bottom: 16px;
}

.timeline-comment-avatar {
    flex-shrink: 0;
}

.timeline-comment-avatar .avatar {
    border-radius: 50%;
}

.timeline-comment {
    flex: 1;
    min-width: 0;
    border: 1px solid var(--borderColor-default, var(--color-border-default));
    border-radius: 6px;
}

.timeline-comment-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 16px;
    background-color: var(--bgColor-muted, var(--color-canvas-subtle));
    border-bottom: 1px solid var(--borderColor-default, var(--color-border-default));
    border-radius: 6px 6px 0 0;
}

.timeline-comment-header-text {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 4px;
}

.timeline-comment-body {
    padding: 16px;
}

.timeline-comment-actions {
    display: flex;
    align-items: center;
    gap: 4px;
}

/* File Diff */
.file-diff {
    overflow: hidden;
}

.file-header {
    padding: 8px 16px;
}

.file-info {
    display: flex;
    align-items: center;
    gap: 8px;
}

.file-diffstat {
    font-size: 12px;
}

.diff-table {
    width: 100%;
    border-collapse: collapse;
    font-family: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;
    font-size: 12px;
}

.diff-line {
    line-height: 20px;
}

.diff-line-num {
    width: 40px;
    padding: 0 8px;
    text-align: right;
    color: var(--fgColor-muted, var(--color-fg-muted));
    background-color: var(--bgColor-muted, var(--color-canvas-subtle));
    user-select: none;
    vertical-align: top;
}

.diff-line-content {
    padding: 0 8px;
    white-space: pre-wrap;
    word-break: break-all;
}

.diff-line-addition {
    background-color: var(--diffBlob-addition-bgColor-line, #ccffd8);
}

.diff-line-addition .diff-line-num {
    background-color: var(--diffBlob-addition-bgColor-num, #aff5b4);
}

.diff-line-deletion {
    background-color: var(--diffBlob-deletion-bgColor-line, #ffd7d5);
}

.diff-line-deletion .diff-line-num {
    background-color: var(--diffBlob-deletion-bgColor-num, #ffcecb);
}

.diff-line-hunk {
    background-color: var(--bgColor-accent-muted, #ddf4ff);
    color: var(--fgColor-muted, var(--color-fg-muted));
}

.diff-patch {
    margin: 0;
    padding: 16px;
    overflow-x: auto;
    font-size: 12px;
    background-color: var(--bgColor-muted, var(--color-canvas-subtle));
}

/* Sidebar */
.Layout {
    display: flex;
    gap: 24px;
}

.Layout--flowRow-until-md {
    flex-direction: row;
}

.Layout-main {
    flex: 1;
    min-width: 0;
}

.Layout-sidebar {
    flex-shrink: 0;
    width: 296px;
}

.sidebar-section {
    padding: 16px 0;
    border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));
}

.sidebar-section:first-child {
    padding-top: 0;
}

.sidebar-section:last-child {
    border-bottom: none;
}

.sidebar-section-header {
    margin-bottom: 8px;
}

.sidebar-section-body {
    font-size: 12px;
}

.sidebar-user {
    padding: 4px 0;
}

.participants-avatars {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
}

.participant-avatar {
    display: inline-block;
}

.participant-avatar .avatar {
    border-radius: 50%;
}

/* New Comment Form */
.new-comment-box {
    border: 1px solid var(--borderColor-default, var(--color-border-default));
}

.comment-form-textarea {
    width: 100%;
    min-height: 100px;
    padding: 8px;
    font-size: 14px;
    line-height: 1.5;
    border: 1px solid var(--borderColor-default, var(--color-border-default));
    border-radius: 6px;
    resize: vertical;
}

.form-actions {
    display: flex;
    justify-content: flex-end;
    gap: 8px;
}

/* Labels */
.labels-list {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
}

/* Avatar Letter */
.avatar-letter {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-weight: 500;
    text-transform: uppercase;
    background-color: var(--bgColor-muted, var(--color-canvas-subtle));
    border-radius: 50%;
}

/* Responsive */
@media (max-width: 768px) {
    .Layout--flowRow-until-md {
        flex-direction: column;
    }

    .Layout-sidebar {
        width: 100%;
    }

    .tabnav {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
    }

    .tabnav-tabs {
        flex-wrap: wrap;
    }

    .gh-header-title {
        font-size: 24px;
    }
}
</style>
{{end}}
