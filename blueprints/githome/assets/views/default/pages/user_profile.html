{{define "content"}}
<div class="page-responsive">
  <div class="page-with-sidebar">
    <!-- Sidebar: Profile Info -->
    <div class="page-sidebar">
      <div class="d-flex flex-column items-center mb-3">
        <div class="avatar avatar-8 avatar-fallback mb-3" style="width: 260px; height: 260px; font-size: 80px;">
          {{firstChar .Profile.Username}}
        </div>
        <h1 class="profile-name">{{if .Profile.FullName}}{{.Profile.FullName}}{{else}}{{.Profile.Username}}{{end}}</h1>
        <p class="profile-username">@{{.Profile.Username}}</p>
      </div>

      {{if .Profile.Bio}}
      <p class="profile-bio">{{.Profile.Bio}}</p>
      {{end}}

      {{if .IsOwner}}
      <a href="/settings/profile" class="btn btn-block mt-3">Edit profile</a>
      {{else}}
      {{if $.User}}
      <button class="btn btn-block mt-3">Follow</button>
      {{end}}
      {{end}}

      <div class="profile-meta mt-4">
        {{if .Profile.Location}}
        <div class="profile-meta-item">
          <svg viewBox="0 0 16 16" width="16" height="16">
            <path fill="currentColor" d="m12.596 11.596-3.535 3.536a1.5 1.5 0 0 1-2.122 0l-3.535-3.536a6.5 6.5 0 1 1 9.192 0ZM8 14.5l3.535-3.535a5 5 0 1 0-7.07 0L8 14.5Z"></path>
            <path fill="currentColor" d="M8 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"></path>
          </svg>
          {{.Profile.Location}}
        </div>
        {{end}}
        {{if .Profile.Email}}
        <div class="profile-meta-item">
          <svg viewBox="0 0 16 16" width="16" height="16">
            <path fill="currentColor" d="M1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25v-8.5C0 2.784.784 2 1.75 2ZM1.5 12.251c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V5.809L8.38 9.397a.75.75 0 0 1-.76 0L1.5 5.809v6.442Zm13-8.181v-.32a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25v.32L8 7.88Z"></path>
          </svg>
          {{.Profile.Email}}
        </div>
        {{end}}
      </div>
    </div>

    <!-- Main: Repositories -->
    <div class="page-content">
      <nav class="underline-nav mb-4" data-tab-group>
        <a href="#" class="underline-nav-item selected" data-tab="repositories">
          <svg viewBox="0 0 16 16" width="16" height="16">
            <path fill="currentColor" d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z"></path>
          </svg>
          Repositories
          {{if .Repositories}}
          <span class="counter">{{len .Repositories}}</span>
          {{end}}
        </a>
      </nav>

      <div data-tab-panel="repositories">
        <div class="mb-3">
          <input type="text" class="form-control" placeholder="Find a repository...">
        </div>

        {{if .Repositories}}
        {{range .Repositories}}
        <div class="repo-card">
          <div class="d-flex items-center gap-2">
            <a href="/{{.OwnerName}}/{{.Name}}" class="repo-card-name">{{.Name}}</a>
            {{if .IsPrivate}}
            <span class="label label-secondary">Private</span>
            {{else}}
            <span class="label label-secondary">Public</span>
            {{end}}
          </div>
          {{if .Description}}
          <p class="repo-card-description">{{.Description}}</p>
          {{end}}
          <div class="repo-card-meta">
            <span class="repo-card-meta-item">
              <svg viewBox="0 0 16 16" width="16" height="16">
                <path fill="currentColor" d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Z"></path>
              </svg>
              {{.StarCount}}
            </span>
            <span class="repo-card-meta-item">
              <svg viewBox="0 0 16 16" width="16" height="16">
                <path fill="currentColor" d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0Z"></path>
              </svg>
              {{.ForkCount}}
            </span>
          </div>
        </div>
        {{end}}
        {{else}}
        <div class="blankslate box">
          <div class="blankslate-icon">
            <svg viewBox="0 0 16 16" width="48" height="48">
              <path fill="currentColor" d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Z"></path>
            </svg>
          </div>
          <h3 class="blankslate-heading">{{.Profile.Username}} doesn't have any repositories yet.</h3>
          {{if .IsOwner}}
          <p class="blankslate-description">Create your first repository to get started.</p>
          <a href="/new" class="btn btn-primary">Create repository</a>
          {{end}}
        </div>
        {{end}}
      </div>
    </div>
  </div>
</div>
{{end}}
