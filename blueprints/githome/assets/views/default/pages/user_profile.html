{{define "content"}}
<div class="container-xl">
    <div class="Layout">
        <div class="Layout-sidebar">
            <div class="mb-4">
                {{if .ProfileUser.AvatarURL}}
                <img src="{{.ProfileUser.AvatarURL}}" alt="{{.ProfileUser.Login}}" class="Avatar Avatar--xl mb-3" style="width: 260px; height: 260px; border-radius: 50%;">
                {{else}}
                <div class="Avatar Avatar--xl mb-3" style="width: 260px; height: 260px; background: #6e40c9; color: white; display: flex; align-items: center; justify-content: center; font-size: 96px; font-weight: 600;">
                    {{firstChar .ProfileUser.Login}}
                </div>
                {{end}}

                <h1 class="h4 mb-0">
                    {{if .ProfileUser.Name}}
                    <span class="d-block">{{.ProfileUser.Name}}</span>
                    <span class="d-block f4 color-fg-muted" style="font-weight: 300;">{{.ProfileUser.Login}}</span>
                    {{else}}
                    {{.ProfileUser.Login}}
                    {{end}}
                </h1>

                {{if .ProfileUser.Bio}}
                <p class="color-fg-muted my-3">{{.ProfileUser.Bio}}</p>
                {{end}}

                {{if not .IsOwnProfile}}
                {{if .User}}
                <div class="mb-3">
                    {{if .IsFollowing}}
                    <form method="POST" action="/{{.ProfileUser.Login}}/unfollow" style="display: inline;">
                        <button type="submit" class="btn btn-block">Unfollow</button>
                    </form>
                    {{else}}
                    <form method="POST" action="/{{.ProfileUser.Login}}/follow" style="display: inline;">
                        <button type="submit" class="btn btn-block">Follow</button>
                    </form>
                    {{end}}
                </div>
                {{end}}
                {{end}}

                <div class="d-flex flex-items-center mb-3">
                    <svg class="octicon mr-2 color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                        <path d="M2 5.5a3.5 3.5 0 1 1 5.898 2.549 5.508 5.508 0 0 1 3.034 4.084.75.75 0 1 1-1.482.235 4 4 0 0 0-7.9 0 .75.75 0 0 1-1.482-.236A5.507 5.507 0 0 1 3.102 8.05 3.493 3.493 0 0 1 2 5.5ZM11 4a3.001 3.001 0 0 1 2.22 5.018 5.01 5.01 0 0 1 2.56 3.012.749.749 0 0 1-.885.954.752.752 0 0 1-.549-.514 3.507 3.507 0 0 0-2.522-2.372.75.75 0 0 1-.574-.73v-.352a.75.75 0 0 1 .416-.672A1.5 1.5 0 0 0 11 5.5.75.75 0 0 1 11 4Zm-5.5-.5a2 2 0 1 0-.001 3.999A2 2 0 0 0 5.5 3.5Z"/>
                    </svg>
                    <a href="/{{.ProfileUser.Login}}?tab=followers" class="Link--secondary">
                        <span class="text-bold">{{.ProfileUser.Followers}}</span> followers
                    </a>
                    <span class="mx-1">&middot;</span>
                    <a href="/{{.ProfileUser.Login}}?tab=following" class="Link--secondary">
                        <span class="text-bold">{{.ProfileUser.Following}}</span> following
                    </a>
                </div>

                {{if .ProfileUser.Location}}
                <div class="d-flex flex-items-center mb-2 color-fg-muted">
                    <svg class="octicon mr-2" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                        <path d="m12.596 11.596-3.535 3.536a1.5 1.5 0 0 1-2.122 0l-3.535-3.536a6.5 6.5 0 1 1 9.192 0ZM8 1.5a5 5 0 0 0-3.536 8.536L8 13.571l3.536-3.535A5 5 0 0 0 8 1.5Z"/>
                    </svg>
                    {{.ProfileUser.Location}}
                </div>
                {{end}}

                {{if .ProfileUser.Blog}}
                <div class="d-flex flex-items-center mb-2">
                    <svg class="octicon mr-2 color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                        <path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .75.75 0 0 1 1.06-1.06 2 2 0 0 0 2.83 0l2.5-2.5a2 2 0 0 0-2.83-2.83l-1.25 1.25a.75.75 0 0 1-1.06-1.06Zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0Z"/>
                    </svg>
                    <a href="{{.ProfileUser.Blog}}" class="Link--primary">{{.ProfileUser.Blog}}</a>
                </div>
                {{end}}
            </div>

            {{if .Organizations}}
            <div class="BorderGrid-cell">
                <h2 class="h4 mb-2">Organizations</h2>
                <div class="d-flex flex-wrap" style="gap: 8px;">
                    {{range .Organizations}}
                    <a href="/{{.Login}}" title="{{.Login}}">
                        {{if .AvatarURL}}
                        <img src="{{.AvatarURL}}" alt="{{.Login}}" class="Avatar Avatar--medium">
                        {{else}}
                        <span class="Avatar Avatar--medium" style="background: #1f883d; color: white; display: flex; align-items: center; justify-content: center; font-weight: 600;">{{firstChar .Login}}</span>
                        {{end}}
                    </a>
                    {{end}}
                </div>
            </div>
            {{end}}
        </div>

        <div class="Layout-main">
            <nav class="UnderlineNav mb-4">
                <div class="UnderlineNav-body" style="padding: 0;">
                    <a href="/{{.ProfileUser.Login}}" class="UnderlineNav-item{{if eq .ActiveTab "overview"}} selected{{end}}">
                        <svg class="octicon UnderlineNav-octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                            <path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"/>
                        </svg>
                        <span>Overview</span>
                    </a>
                    <a href="/{{.ProfileUser.Login}}?tab=repositories" class="UnderlineNav-item{{if eq .ActiveTab "repositories"}} selected{{end}}">
                        <svg class="octicon UnderlineNav-octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                            <path d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z"/>
                        </svg>
                        <span>Repositories</span>
                        <span class="Counter">{{.ProfileUser.PublicRepos}}</span>
                    </a>
                    <a href="/{{.ProfileUser.Login}}?tab=stars" class="UnderlineNav-item{{if eq .ActiveTab "stars"}} selected{{end}}">
                        <svg class="octicon UnderlineNav-octicon" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                            <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Z"/>
                        </svg>
                        <span>Stars</span>
                    </a>
                </div>
            </nav>

            {{if .Repositories}}
            <div class="Box">
                {{range .Repositories}}
                <div class="Box-row">
                    <div class="d-flex flex-items-center flex-justify-between">
                        <div class="flex-1">
                            <h3 class="mb-1">
                                <a href="/{{.FullName}}" class="Link--primary text-bold">{{.Name}}</a>
                                {{if .Private}}
                                <span class="Label Label--secondary ml-1">Private</span>
                                {{else}}
                                <span class="Label Label--secondary ml-1">Public</span>
                                {{end}}
                            </h3>
                            {{if .Description}}
                            <p class="color-fg-muted mb-2">{{.Description}}</p>
                            {{end}}
                            <div class="d-flex flex-items-center f6 color-fg-muted">
                                {{if .Language}}
                                <span class="d-inline-flex flex-items-center mr-3">
                                    <span class="repo-language-color" style="background-color: #00ADD8;"></span>
                                    {{.Language}}
                                </span>
                                {{end}}
                                {{if gt .StargazersCount 0}}
                                <span class="mr-3">
                                    <svg class="octicon mr-1" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                                        <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Z"/>
                                    </svg>
                                    {{.StargazersCount}}
                                </span>
                                {{end}}
                                {{if gt .ForksCount 0}}
                                <span class="mr-3">
                                    <svg class="octicon mr-1" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                                        <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0Z"/>
                                    </svg>
                                    {{.ForksCount}}
                                </span>
                                {{end}}
                            </div>
                        </div>
                    </div>
                </div>
                {{end}}
            </div>
            {{else}}
            <div class="blankslate">
                <svg class="octicon mb-3" viewBox="0 0 24 24" width="48" height="48" fill="currentColor">
                    <path d="M3 2.75A2.75 2.75 0 0 1 5.75 0h14.5a.75.75 0 0 1 .75.75v20.5a.75.75 0 0 1-.75.75h-6a.75.75 0 0 1 0-1.5h5.25v-4H6A1.5 1.5 0 0 0 4.5 18v.75c0 .716.43 1.334 1.05 1.605a.75.75 0 0 1-.6 1.374A3.251 3.251 0 0 1 3 18.75ZM19.5 1.5H5.75c-.69 0-1.25.56-1.25 1.25v12.651A2.989 2.989 0 0 1 6 15h13.5Z"/>
                </svg>
                <h3>{{.ProfileUser.Login}} doesn't have any public repositories yet.</h3>
            </div>
            {{end}}
        </div>
    </div>
</div>
{{end}}
