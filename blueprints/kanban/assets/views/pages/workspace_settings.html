{{define "pages/workspace_settings.html"}}
{{template "layouts/default.html" .}}
{{define "title"}}{{.Workspace.Name}} - Settings{{end}}
{{define "content"}}
<div class="page-header">
    <h1>Workspace Settings</h1>
</div>

<div class="settings-view">
    <div class="settings-section">
        <h2>General</h2>
        <form class="settings-form">
            <div class="form-group">
                <label class="form-label">Workspace Name</label>
                <input type="text" class="form-input" value="{{.Workspace.Name}}">
            </div>
            <div class="form-group">
                <label class="form-label">Slug</label>
                <input type="text" class="form-input" value="{{.Workspace.Slug}}" disabled>
            </div>
            <div class="form-group">
                <label class="form-label">Description</label>
                <textarea class="form-textarea">{{.Workspace.Description}}</textarea>
            </div>
            <button type="submit" class="btn btn-primary">Save Changes</button>
        </form>
    </div>

    <div class="settings-section danger-zone">
        <h2>Danger Zone</h2>
        <button class="btn btn-danger" onclick="deleteWorkspace()">Delete Workspace</button>
    </div>
</div>

<script>
function deleteWorkspace() {
    if (!confirm('Are you sure? This will delete all projects and issues.')) return;
    fetch('/api/v1/workspaces/{{.Workspace.Slug}}', { method: 'DELETE' })
        .then(() => window.location.href = '/');
}
</script>
{{end}}
{{end}}
