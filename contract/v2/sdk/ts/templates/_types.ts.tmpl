{{define "_types.ts.tmpl"}}// Code generated by sdkts. DO NOT EDIT.

{{- range .Types}}

{{- if .Description}}
/** {{.Description}} */
{{- end}}

{{- if eq .Kind "struct"}}
export interface {{.Name}} {
{{- if not .Fields}}
  [key: string]: unknown;
{{- end}}
{{- range .Fields}}
{{- if .Description}}
  /** {{.Description}} */
{{- end}}
  {{.TSName}}{{if .Optional}}?{{end}}: {{.TSType}};
{{- end}}
}
{{- end}}

{{- if eq .Kind "slice"}}
export type {{.Name}} = {{.Elem}}[];
{{- end}}

{{- if eq .Kind "map"}}
export type {{.Name}} = Record<string, {{.Elem}}>;
{{- end}}

{{- if eq .Kind "union"}}
/** Discriminated union (tag: "{{.Tag}}") */
export type {{.Name}} =
{{- range $i, $v := .Variants}}
  | {{$v.Type}}
{{- end}};

{{- range .Variants}}

/** Type guard for {{.Type}} */
export function is{{.FieldName}}(v: {{$.Name}}): v is {{.Type}} {
  return (v as { {{$.Tag}}: string }).{{$.Tag}} === {{tsString .Value}};
}
{{- end}}
{{- end}}

{{end}}
{{end}}
