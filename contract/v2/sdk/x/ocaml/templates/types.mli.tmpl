{{define "types.mli.tmpl"}}(** Code generated by sdkocaml. DO NOT EDIT.

    Type definitions for {{.ModuleName}} API.
*)
{{range $type := .Types}}
{{- if eq $type.Kind "struct"}}

(** {{if $type.Description}}{{$type.Description}}{{else}}{{$type.ModuleName}} type.{{end}} *)
type {{$type.OCamlName}} = {
{{- range $field := $type.Fields}}
  {{$field.OCamlName}} : {{$field.OCamlType}};
  (** {{if $field.Description}}{{$field.Description}}{{else}}{{$field.JSONName}}{{end}} *)
{{- end}}
}

val show_{{$type.OCamlName}} : {{$type.OCamlName}} -> string
val equal_{{$type.OCamlName}} : {{$type.OCamlName}} -> {{$type.OCamlName}} -> bool
val {{$type.OCamlName}}_of_yojson : Yojson.Safe.t -> {{$type.OCamlName}}
val yojson_of_{{$type.OCamlName}} : {{$type.OCamlName}} -> Yojson.Safe.t

module {{$type.ModuleName}} : sig
  type t = {{$type.OCamlName}}

  val show : t -> string
  val equal : t -> t -> bool
  val of_yojson : Yojson.Safe.t -> t
  val yojson_of : t -> Yojson.Safe.t
  val t_of_yojson : Yojson.Safe.t -> t
  val yojson_of_t : t -> Yojson.Safe.t

  val make :
{{- range $field := $type.Fields}}
    {{if $field.Optional}}?{{else}}{{end}}{{$field.OCamlName}}:{{$field.OCamlType | trimOption}} ->
{{- end}}
    unit ->
    t
end
{{- range $field := $type.Fields}}
{{- if $field.Enum}}

(** Valid values for '{{$field.OCamlName}}' field of {{$type.ModuleName}}. *)
type {{$type.OCamlName}}_{{$field.OCamlName}} =
{{- range $i, $e := $field.Enum}}
  {{if eq $i 0}}|{{else}}|{{end}} {{$e.Name}}
{{- end}}

val show_{{$type.OCamlName}}_{{$field.OCamlName}} : {{$type.OCamlName}}_{{$field.OCamlName}} -> string
val equal_{{$type.OCamlName}}_{{$field.OCamlName}} : {{$type.OCamlName}}_{{$field.OCamlName}} -> {{$type.OCamlName}}_{{$field.OCamlName}} -> bool
val {{$type.OCamlName}}_{{$field.OCamlName}}_of_yojson : Yojson.Safe.t -> {{$type.OCamlName}}_{{$field.OCamlName}}
val yojson_of_{{$type.OCamlName}}_{{$field.OCamlName}} : {{$type.OCamlName}}_{{$field.OCamlName}} -> Yojson.Safe.t
{{- end}}
{{- end}}
{{- end}}
{{- if eq $type.Kind "union"}}

(** {{if $type.Description}}{{$type.Description}}{{else}}Discriminated union (tag: "{{$type.Tag}}").{{end}} *)
type {{$type.OCamlName}} = [
{{- range $var := $type.Variants}}
  | `{{$var.VariantName}} of {{$var.OCamlName}}
{{- end}}
]

val show_{{$type.OCamlName}} : {{$type.OCamlName}} -> string
val equal_{{$type.OCamlName}} : {{$type.OCamlName}} -> {{$type.OCamlName}} -> bool
val {{$type.OCamlName}}_of_yojson : Yojson.Safe.t -> {{$type.OCamlName}}
val yojson_of_{{$type.OCamlName}} : {{$type.OCamlName}} -> Yojson.Safe.t

module {{$type.ModuleName}} : sig
  type t = {{$type.OCamlName}}

  val show : t -> string
  val equal : t -> t -> bool
  val of_yojson : Yojson.Safe.t -> t
  val yojson_of : t -> Yojson.Safe.t
  val t_of_yojson : Yojson.Safe.t -> t
  val yojson_of_t : t -> Yojson.Safe.t
end
{{- end}}
{{- end}}
{{end}}