{{define "errors.rb.tmpl"}}# frozen_string_literal: true

# Code generated by sdkruby. DO NOT EDIT.

module {{.ModuleName}}
  # Base error class for all SDK errors.
  class Error < StandardError
  end

  # Error connecting to the API (network issues).
  class ConnectionError < Error
  end

  # Request timeout error.
  class TimeoutError < Error
  end

  # Request was cancelled.
  class CancelledError < Error
  end

  # Error parsing SSE stream.
  class StreamParseError < Error
    # @return [String, nil] Raw data that failed to parse
    attr_reader :data

    def initialize(message, data = nil)
      @data = data
      super(message)
    end
  end

  # Base class for API errors (HTTP 4xx/5xx).
  class APIError < Error
    # @return [Integer] HTTP status code
    attr_reader :status

    # @return [Hash, String, nil] Response body
    attr_reader :body

    # @param message [String, nil] Error message
    # @param status [Integer, nil] HTTP status code
    # @param body [Hash, String, nil] Response body
    def initialize(message = nil, status = nil, body = nil)
      @status = status
      @body = body
      super(message || "API error")
    end

    def to_s
      "#{self.class.name}: #{message} (status: #{status})"
    end
  end

  # HTTP 400 Bad Request.
  class BadRequestError < APIError
  end

  # HTTP 401 Unauthorized.
  class AuthenticationError < APIError
  end

  # HTTP 403 Forbidden.
  class PermissionDeniedError < APIError
  end

  # HTTP 404 Not Found.
  class NotFoundError < APIError
  end

  # HTTP 422 Unprocessable Entity.
  class UnprocessableEntityError < APIError
  end

  # HTTP 429 Too Many Requests.
  class RateLimitError < APIError
    # @return [Integer, nil] Seconds to wait before retrying
    attr_reader :retry_after

    # @param message [String, nil] Error message
    # @param status [Integer, nil] HTTP status code
    # @param body [Hash, String, nil] Response body
    # @param retry_after [Integer, nil] Seconds to wait
    def initialize(message = nil, status = nil, body = nil, retry_after: nil)
      @retry_after = retry_after
      super(message, status, body)
    end
  end

  # HTTP 5xx Server Error.
  class InternalServerError < APIError
  end
end
{{end}}
