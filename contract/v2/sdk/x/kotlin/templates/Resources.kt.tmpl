{{define "Resources.kt.tmpl"}}// Code generated by sdkkotlin. DO NOT EDIT.

package {{.Package}}

import io.ktor.http.*
import kotlinx.coroutines.flow.Flow

// MARK: - Resource Classes
{{range $resource := .Resources}}
{{- if $resource.Description}}
/**
 * {{$resource.Description}}
 */
{{- end}}
class {{$resource.ClassName}} internal constructor(
    private val client: HttpClientWrapper
) {
{{- range $method := $resource.Methods}}
{{- if $method.Description}}
    /**
     * {{$method.Description}}
     */
{{- end}}
{{- if $method.IsStreaming}}
    fun {{$method.KotlinName}}({{if $method.HasInput}}request: {{$method.InputType}}{{end}}): Flow<{{$method.StreamItemType}}> =
        client.stream(
            method = HttpMethod.{{$method.HTTPMethod | httpMethod}},
            path = {{kotlinString $method.HTTPPath}}{{if $method.HasInput}},
            body = request{{end}}
        )
{{- else if and $method.HasInput $method.HasOutput}}
    suspend fun {{$method.KotlinName}}(request: {{$method.InputType}}): {{$method.OutputType}} =
        client.request(
            method = HttpMethod.{{$method.HTTPMethod | httpMethod}},
            path = {{kotlinString $method.HTTPPath}},
            body = request
        )
{{- else if $method.HasInput}}
    suspend fun {{$method.KotlinName}}(request: {{$method.InputType}}) {
        client.requestUnit(
            method = HttpMethod.{{$method.HTTPMethod | httpMethod}},
            path = {{kotlinString $method.HTTPPath}},
            body = request
        )
    }
{{- else if $method.HasOutput}}
    suspend fun {{$method.KotlinName}}(): {{$method.OutputType}} =
        client.request(
            method = HttpMethod.{{$method.HTTPMethod | httpMethod}},
            path = {{kotlinString $method.HTTPPath}}
        )
{{- else}}
    suspend fun {{$method.KotlinName}}() {
        client.requestUnit(
            method = HttpMethod.{{$method.HTTPMethod | httpMethod}},
            path = {{kotlinString $method.HTTPPath}}
        )
    }
{{- end}}
{{end}}
}
{{end}}
{{end}}
