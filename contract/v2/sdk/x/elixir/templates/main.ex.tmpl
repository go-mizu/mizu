{{define "main.ex.tmpl"}}# Code generated by sdkelixir. DO NOT EDIT.

defmodule {{.ModuleName}} do
  @moduledoc """
{{- if .Service.Description}}
  {{.Service.Description}}

{{end}}
  ## Quick Start

      # Create a client
      client = {{.ModuleName}}.client(api_key: "your-api-key")

      # Make a request
{{- range $i, $r := .Resources}}
{{- if eq $i 0}}
{{- range $j, $m := $r.Methods}}
{{- if eq $j 0}}
      {:ok, response} = {{$.ModuleName}}.Resources.{{$r.ModuleName}}.{{$m.ElixirName}}(client, params)
{{- end}}
{{- end}}
{{- end}}
{{- end}}

  ## Configuration

  Configure via application environment:

      config :{{.AppName}},
        api_key: System.get_env("API_KEY"),
        base_url: {{elixirQuote .Client.BaseURL}}

  Or pass options directly:

      client = {{.ModuleName}}.client(
        api_key: "your-api-key",
        timeout: 120_000
      )
  """

  alias {{.ModuleName}}.Client
  alias {{.ModuleName}}.Config

  @doc """
  Creates a new API client.

  ## Options

    * `:api_key` - API key for authentication (required)
    * `:base_url` - Override the default base URL
    * `:timeout` - Request timeout in milliseconds (default: 60_000)
    * `:max_retries` - Maximum retry attempts (default: 2)
    * `:headers` - Additional headers to include in all requests

  ## Examples

      iex> client = {{.ModuleName}}.client(api_key: "sk-...")
      %{{.ModuleName}}.Client{...}

      iex> client = {{.ModuleName}}.client(
      ...>   api_key: System.get_env("API_KEY"),
      ...>   timeout: 120_000
      ...> )
      %{{.ModuleName}}.Client{...}
  """
  @spec client(keyword()) :: Client.t()
  def client(opts \\ []) do
    Client.new(opts)
  end

  @doc """
  Returns the current configuration.
  """
  @spec config() :: Config.t()
  def config do
    Config.new()
  end
end
{{end}}