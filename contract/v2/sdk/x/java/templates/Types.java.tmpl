{{define "Types.java.tmpl"}}// Code generated by sdkjava. DO NOT EDIT.

package {{.Package}}.model;

import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonSubTypes;
import com.fasterxml.jackson.annotation.JsonTypeInfo;
import com.fasterxml.jackson.databind.JsonNode;
import org.jetbrains.annotations.Nullable;
{{- if .HasDate}}
import java.time.Instant;
{{- end}}
import java.util.List;
import java.util.Map;
import java.util.Objects;
import java.util.Optional;

// MARK: - Enums
{{range $enum := .Enums}}

/**
 * Valid values for {{$enum.Name}}.
 */
public enum {{$enum.JavaName}} {
{{- range $i, $val := $enum.Values}}
    @JsonProperty({{javaString $val.Value}})
    {{$val.Name}}{{if lt $i (sub (len $enum.Values) 1)}},{{else}};{{end}}
{{- end}}
}
{{end}}
// MARK: - Types
{{range $type := .Types}}
{{- if eq $type.Kind "struct"}}

{{- if $type.Description}}
/**
 * {{$type.Description}}
 */
{{- end}}
@JsonInclude(JsonInclude.Include.NON_NULL)
public final class {{$type.JavaName}}{{if $type.IsUnionVariant}} extends {{$type.UnionBase}}{{end}} {
{{- range $type.Fields}}

    private final {{.JavaType}} {{.JavaName}};
{{- end}}

    private {{$type.JavaName}}(Builder builder) {
{{- range $type.Fields}}
        this.{{.JavaName}} = builder.{{.JavaName}};
{{- end}}
    }

    /**
     * Creates a new builder for {{$type.JavaName}}.
     *
     * @return a new builder instance
     */
    public static Builder builder() {
        return new Builder();
    }
{{range $type.Fields}}
{{- if .Description}}

    /**
     * {{.Description}}
     */
{{- end}}
    @JsonProperty({{javaString .JSONName}})
{{- if or .Optional .Nullable}}
    @Nullable
{{- end}}
{{- if .HasEnum}}
    public {{.EnumType}} {{.GetterName}}() {
        return {{.JavaName}};
    }
{{- else}}
    public {{.JavaType}} {{.GetterName}}() {
        return {{.JavaName}};
    }
{{- end}}
{{end}}
{{- if $type.IsUnionVariant}}

    @Override
    public String getType() {
        return {{javaString $type.UnionTagValue}};
    }
{{- end}}

    /**
     * Creates a new builder pre-populated with this instance's values.
     *
     * @return a new builder
     */
    public Builder toBuilder() {
        return new Builder()
{{- range $i, $f := $type.Fields}}
            .{{$f.JavaName}}(this.{{$f.JavaName}}){{if lt $i (sub (len $type.Fields) 1)}}{{end}}
{{- end}};
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        {{$type.JavaName}} that = ({{$type.JavaName}}) o;
        return {{range $i, $f := $type.Fields}}{{if gt $i 0}} &&
            {{end}}Objects.equals({{$f.JavaName}}, that.{{$f.JavaName}}){{end}};
    }

    @Override
    public int hashCode() {
        return Objects.hash({{range $i, $f := $type.Fields}}{{if gt $i 0}}, {{end}}{{$f.JavaName}}{{end}});
    }

    @Override
    public String toString() {
        return "{{$type.JavaName}}{" +
{{- $lastFieldIdx := sub (len $type.Fields) 1}}
{{- range $i, $f := $type.Fields}}
            "{{if gt $i 0}}, {{end}}{{$f.JavaName}}=" + {{$f.JavaName}}{{if lt $i $lastFieldIdx}} +{{else}} +{{end}}
{{- end}}
            '}';
    }

    /**
     * Builder for creating {{$type.JavaName}} instances.
     */
    public static final class Builder {
{{- range $type.Fields}}
        private {{.JavaType}} {{.JavaName}}{{if .Const}} = {{javaString .Const}}{{end}};
{{- end}}

        private Builder() {}
{{range $type.Fields}}
{{- if .Description}}

        /**
         * {{.Description}}
         */
{{- end}}
{{- if .HasEnum}}
        public Builder {{.JavaName}}({{.EnumType}} {{.JavaName}}) {
            this.{{.JavaName}} = {{.JavaName}};
            return this;
        }
{{- else}}
        public Builder {{.JavaName}}({{.JavaType}} {{.JavaName}}) {
            this.{{.JavaName}} = {{.JavaName}};
            return this;
        }
{{- end}}
{{end}}
        /**
         * Builds the {{$type.JavaName}} instance.
         *
         * @return a new {{$type.JavaName}} instance
         */
        public {{$type.JavaName}} build() {
            return new {{$type.JavaName}}(this);
        }
    }
}
{{- end}}

{{- if eq $type.Kind "union"}}

{{- if $type.Description}}
/**
 * {{$type.Description}}
 *
 * <p>Discriminated union (tag: "{{$type.Tag}}").
 */
{{- else}}
/**
 * Discriminated union (tag: "{{$type.Tag}}").
 */
{{- end}}
@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = {{javaString $type.Tag}})
@JsonSubTypes({
{{- range $i, $v := $type.Variants}}
    @JsonSubTypes.Type(value = {{$v.ClassName}}.class, name = {{javaString $v.Value}}){{if lt $i (sub (len $type.Variants) 1)}},{{end}}
{{- end}}
})
public abstract class {{$type.JavaName}} {

    /**
     * Returns the discriminator tag value.
     *
     * @return the type tag
     */
    public abstract String getType();
{{range $type.Variants}}

    /**
     * Returns true if this is a {{.ClassName}} variant.
     *
     * @return true if {{.ClassName}}
     */
    public boolean is{{.ClassName}}() {
        return this instanceof {{.ClassName}};
    }

    /**
     * Returns the {{.ClassName}} value if present.
     *
     * @return an Optional containing the {{.ClassName}} if present
     */
    public Optional<{{.ClassName}}> as{{.ClassName}}() {
        return this instanceof {{.ClassName}} ? Optional.of(({{.ClassName}}) this) : Optional.empty();
    }
{{- end}}
}
{{- end}}

{{- if eq $type.Kind "slice"}}
// Type alias: {{$type.JavaName}} = List<{{$type.Elem}}>
{{- end}}

{{- if eq $type.Kind "map"}}
// Type alias: {{$type.JavaName}} = Map<String, {{$type.Elem}}>
{{- end}}
{{end}}
{{end}}
