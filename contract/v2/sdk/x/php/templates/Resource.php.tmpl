{{define "Resource.php.tmpl"}}<?php

declare(strict_types=1);

// Code generated by sdkphp. DO NOT EDIT.

namespace {{.Namespace}}\Resources;

use {{.Namespace}}\Client;
{{- range .Resource.Methods}}
{{- if .HasInput}}
use {{$.Namespace}}\Types\{{.InputType}};
{{- end}}
{{- if .HasOutput}}
use {{$.Namespace}}\Types\{{.OutputType}};
{{- end}}
{{- if .IsStreaming}}
use {{$.Namespace}}\Types\{{.StreamItemType}};
{{- end}}
{{- end}}

/**
{{- if .Resource.Description}}
 * {{.Resource.Description}}
{{- else}}
 * Operations for {{.Resource.Name}}.
{{- end}}
 */
final readonly class {{.Resource.ClassName}}
{
    public function __construct(
        private Client $client,
    ) {}
{{range .Resource.Methods}}

    /**
{{- if .Description}}
     * {{.Description}}
{{- else}}
     * {{.Name}} operation.
{{- end}}
     *
{{- if .HasInput}}
     * @param {{.InputType}} $request Request parameters
{{- end}}
{{- if .IsStreaming}}
     * @return \Generator<int, {{.StreamItemType}}>
{{- else if .HasOutput}}
     * @return {{.OutputType}}
{{- else}}
     * @return void
{{- end}}
     * @throws \{{$.Namespace}}\Exceptions\ApiException
     */
{{- if .IsStreaming}}
    public function {{.PHPName}}({{if .HasInput}}{{.InputType}} $request{{end}}): \Generator
    {
        yield from $this->client->stream(
            method: {{phpQuote .HTTPMethod}},
            path: {{phpQuote .HTTPPath}},
{{- if .HasInput}}
            body: $request,
{{- else}}
            body: null,
{{- end}}
            itemType: {{.StreamItemType}}::class,
        );
    }
{{- else if .HasOutput}}
    public function {{.PHPName}}({{if .HasInput}}{{.InputType}} $request{{end}}): {{.OutputType}}
    {
        return $this->client->request(
            method: {{phpQuote .HTTPMethod}},
            path: {{phpQuote .HTTPPath}},
{{- if .HasInput}}
            body: $request,
{{- else}}
            body: null,
{{- end}}
            responseType: {{.OutputType}}::class,
        );
    }
{{- else}}
    public function {{.PHPName}}({{if .HasInput}}{{.InputType}} $request{{end}}): void
    {
        $this->client->request(
            method: {{phpQuote .HTTPMethod}},
            path: {{phpQuote .HTTPPath}},
{{- if .HasInput}}
            body: $request,
{{- end}}
        );
    }
{{- end}}
{{- end}}
}
{{end}}