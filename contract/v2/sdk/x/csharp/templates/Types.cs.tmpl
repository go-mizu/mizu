// <auto-generated>
// This file was generated by Mizu SDK Generator. Do not edit manually.
// </auto-generated>

using System.Text.Json;
using System.Text.Json.Serialization;

namespace {{.Namespace}}.Models;
{{range .Types}}
{{- if eq .Kind "struct"}}

{{- if .Description}}
/// <summary>
/// {{.Description}}
/// </summary>
{{- end}}
{{- if .IsUnionVariant}}
{{- $type := . }}
public sealed record {{.CSharpName}} : {{.UnionBase}}
{
    /// <inheritdoc />
    public override string {{.UnionTag}} => {{csharpQuote .UnionTagValue}};
{{- range .Fields}}
{{- if ne (pascal .JSONName) $type.UnionTag}}
{{- if .Description}}

    /// <summary>
    /// {{.Description}}
    /// </summary>
{{- end}}
    [JsonPropertyName({{csharpQuote .JSONName}})]
{{- if not .IsRequired}}
    [JsonIgnore(Condition = JsonIgnoreCondition.WhenWritingNull)]
{{- end}}
{{- if .IsRequired}}
    public required {{.CSharpType}} {{.CSharpName}} { get; init; }
{{- else}}
    public {{.CSharpType}} {{.CSharpName}} { get; init; }
{{- end}}
{{- end}}
{{- end}}
}
{{- else}}
public sealed record {{.CSharpName}}
{
{{- range .Fields}}
{{- if .Description}}
    /// <summary>
    /// {{.Description}}
    /// </summary>
{{- end}}
    [JsonPropertyName({{csharpQuote .JSONName}})]
{{- if not .IsRequired}}
    [JsonIgnore(Condition = JsonIgnoreCondition.WhenWritingNull)]
{{- end}}
{{- if .IsRequired}}
    public required {{.CSharpType}} {{.CSharpName}} { get; init; }
{{- else}}
    public {{.CSharpType}} {{.CSharpName}} { get; init; }
{{- end}}
{{end}}
}
{{- end}}
{{- else if eq .Kind "union"}}

{{- if .Description}}
/// <summary>
/// {{.Description}}
/// </summary>
{{- end}}
[JsonPolymorphic(TypeDiscriminatorPropertyName = {{csharpQuote .Tag}})]
{{- range .Variants}}
[JsonDerivedType(typeof({{.ClassName}}), {{csharpQuote .Value}})]
{{- end}}
public abstract record {{.CSharpName}}
{
    /// <summary>
    /// The discriminator tag value.
    /// </summary>
    [JsonPropertyName({{csharpQuote .Tag}})]
    public abstract string {{pascal .Tag}} { get; }
}
{{- else if eq .Kind "slice"}}

{{- if .Description}}
/// <summary>
/// {{.Description}}
/// </summary>
{{- end}}
// Type alias: {{.CSharpName}} = IReadOnlyList<{{.Elem}}>

{{- else if eq .Kind "map"}}

{{- if .Description}}
/// <summary>
/// {{.Description}}
/// </summary>
{{- end}}
// Type alias: {{.CSharpName}} = IReadOnlyDictionary<string, {{.Elem}}>

{{- end}}
{{- end}}
