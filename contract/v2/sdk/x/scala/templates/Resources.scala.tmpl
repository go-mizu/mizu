{{define "Resources.scala.tmpl"}}// Code generated by sdkscala. DO NOT EDIT.

package {{.Package}}

import scala.concurrent.{ExecutionContext, Future}

import sttp.model.Method

import io.circe.syntax._
{{- if .HasSSE}}
import fs2.Stream
{{- end}}

// MARK: - Resource Classes
{{range $resource := .Resources}}
{{- if $resource.Description}}
/**
 * {{$resource.Description}}
 */
{{- end}}
final class {{$resource.ClassName}}(client: {{$.Service.Sanitized}})(implicit ec: ExecutionContext) {
{{range $method := $resource.Methods}}
{{- if $method.Description}}
  /**
   * {{$method.Description}}
{{- if $method.HasInput}}
   *
   * @param request The request payload
{{- end}}
   * @return {{if $method.IsStreaming}}A stream of events{{else if $method.HasOutput}}The response or an error{{else}}Unit or an error{{end}}
   */
{{- end}}
{{- if $method.IsStreaming}}
  def {{$method.ScalaName}}({{if $method.HasInput}}request: {{$method.InputType}}{{end}}): Stream[Future, SDKResult[{{$method.StreamItemType}}]] =
    client.stream[{{$method.StreamItemType}}](
      Method.{{$method.HTTPMethod}},
      {{scalaString $method.HTTPPath}}{{if $method.HasInput}},
      Some(request.asJson.noSpaces){{end}}
    )
{{- else if and $method.HasInput $method.HasOutput}}
  def {{$method.ScalaName}}(request: {{$method.InputType}}): Future[SDKResult[{{$method.OutputType}}]] =
    client.request[{{$method.OutputType}}](
      Method.{{$method.HTTPMethod}},
      {{scalaString $method.HTTPPath}},
      Some(request.asJson.noSpaces)
    )
{{- else if $method.HasInput}}
  def {{$method.ScalaName}}(request: {{$method.InputType}}): Future[SDKResult[Unit]] =
    client.request[Unit](
      Method.{{$method.HTTPMethod}},
      {{scalaString $method.HTTPPath}},
      Some(request.asJson.noSpaces)
    )
{{- else if $method.HasOutput}}
  def {{$method.ScalaName}}(): Future[SDKResult[{{$method.OutputType}}]] =
    client.request[{{$method.OutputType}}](
      Method.{{$method.HTTPMethod}},
      {{scalaString $method.HTTPPath}}
    )
{{- else}}
  def {{$method.ScalaName}}(): Future[SDKResult[Unit]] =
    client.request[Unit](
      Method.{{$method.HTTPMethod}},
      {{scalaString $method.HTTPPath}}
    )
{{- end}}
{{end}}
}
{{end}}
{{end}}
