{{define "include.hrl.tmpl"}}%% Code generated by sdkerlang. DO NOT EDIT.

%% {{.Service.Name}} SDK - Record Definitions
%%
%% Include this file to use the generated records:
%% ```
%% -include_lib("{{.AppName}}/include/{{.AppName}}.hrl").
%% '''

-ifndef({{.AppName | upper}}_HRL).
-define({{.AppName | upper}}_HRL, true).

%%====================================================================
%% Record Definitions
%%====================================================================

{{range $type := .Types}}
{{- if eq $type.Kind "struct"}}
%% @doc {{if $type.Description}}{{$type.Description}}{{else}}{{$type.Name}} record.{{end}}
-record({{$type.RecordName}}, {
{{- $fields := $type.Fields}}
{{- $lastIdx := len $fields | add -1}}
{{- range $i, $field := $fields}}
    %% {{if $field.Description}}{{$field.Description}}{{else}}{{$field.Name}}{{end}}
    {{$field.ErlangName}} :: {{$field.TypeSpec}}{{if lt $i $lastIdx}},{{end}}
{{- end}}
}).

-type {{$type.RecordName}}() :: #{{$type.RecordName}}{}.

{{end}}
{{- end}}

%%====================================================================
%% Union Types
%%====================================================================

{{range $type := .Types}}
{{- if eq $type.Kind "union"}}
%% @doc {{if $type.Description}}{{$type.Description}}{{else}}{{$type.Name}} discriminated union (tag: {{$type.Tag}}).{{end}}
-type {{$type.RecordName}}() ::
{{- range $i, $var := $type.Variants}}
    {{"{"}}{{$var.RecordName}}, #{{$var.RecordName}}{}{{"}"}}{{if lt $i (sub (len $type.Variants) 1)}} |{{end}}
{{- end}}.

{{end}}
{{- end}}

%%====================================================================
%% Enum Types
%%====================================================================

{{range $type := .Types}}
{{- if eq $type.Kind "struct"}}
{{- range $field := $type.Fields}}
{{- if $field.Enum}}
%% Valid values for {{$type.RecordName}}.{{$field.ErlangName}}
{{- range $e := $field.Enum}}
-define({{$type.RecordName | upper}}_{{$field.ErlangName | upper}}_{{$e.Name | upper}}, {{erlangBinary $e.Value}}).
{{- end}}
{{end}}
{{- end}}
{{- end}}
{{- end}}

-endif.
{{end}}
