.PHONY: build test run clean dev

# Build the binary
build:
	go build -o bin/api ./cmd/api

# Run tests
test:
	go test ./...

# Run the server
run:
	go run ./cmd/api

# Run with hot reload (requires mizu CLI)
dev:
	mizu dev

# Generate OpenAPI spec (server must be running)
openapi:
	curl -s http://localhost:8080/openapi.json | jq . > openapi.json

# Clean build artifacts
clean:
	rm -rf bin/
