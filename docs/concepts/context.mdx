---
title: "Context"
description: "Use Ctx to access the request, response, and logger inside a handler."
---

Each handler in Mizu receives a `*mizu.Ctx`, short for *context*.<br/>
Think of `Ctx` as a small helper that connects three things:

- The **request** (what the user sends),
- The **response** (what your app sends back), and
- The **logger** (to record what happens).

### Getting the request and writer

When a browser or client sends a request, it becomes an `*http.Request`.
You can get it directly with:

```go
req := c.Request()
```

The response is what your handler writes back to the client.
You can write to it manually using the standard Go type `http.ResponseWriter`:

```go
w := c.Writer()
fmt.Fprintln(w, "Hello from Mizu")
```

Most of the time, you will use helpers like `c.Text()`, `c.JSON()`, or `c.HTML()`,
but `c.Writer()` is available when you need full control for low-level operations.

### Logging request information

Each request in Mizu has its own logger:

```go
c.Logger().Info("processing request", "path", c.Request().URL.Path)
```

The exact log format and output depend on your logger configuration.

### Handling cancellation and timeouts

Each request includes a built-in context that helps handle timeouts or canceled requests.
For example, if a user closes their browser before the response is ready,
you can detect it and stop processing early:

```go
select {
case <-c.Context().Done():
	return c.Context().Err() // Stop because client disconnected
default:
}
```

This prevents your server from wasting time or resources.

### Working with headers

Headers are small pieces of information sent with every request and response.
You can read or set them directly:

```go
c.Header().Set("X-App", "mizu")
```

Always set headers before writing the response body,
because once data is written, headers are sent and cannot be changed.

### Putting it together

Here is a simple example showing how to use the context and logger together:

```go
func ping(c *mizu.Ctx) error {
	c.Logger().Info("received ping")
	return c.Text(200, "pong")
}

func main() {
	app := mizu.New()
	app.Get("/ping", ping)
	app.Listen(":3000")
}
```

When you visit [http://localhost:3000/ping](http://localhost:3000/ping),
Mizu logs the request and responds with "pong".

`Ctx` gives you one place to access the request, write responses, manage headers, and log activity, while staying compatible with Go's standard `net/http` package.
