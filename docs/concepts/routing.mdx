icon: "route"
title: "Routing"
description: "Define routes and handlers using Go 1.22 style patterns."

Routing in Mizu builds directly on top of Go 1.22’s `ServeMux`.
You register routes with clear, method-aware patterns like `GET /users` or `POST /upload`.
Every route connects to a handler that uses Mizu’s `*Ctx` for request and response handling.

### Basic routes

Each route is defined with an HTTP method and a path.

```go
app.Get("/", func(c *mizu.Ctx) error {
	return c.Text(200, "Home")
})

app.Post("/submit", func(c *mizu.Ctx) error {
	name := c.FormValue("name")
	return c.Text(200, "Submitted by "+name)
})
```

All routes are plain Go functions that return an error.
You can register routes for any HTTP method: `Get`, `Post`, `Put`, `Patch`, `Delete`, and more.

### Path parameters

Mizu supports Go 1.22 path parameters using braces `{}`.
You can capture parts of the path and read them inside your handler.

```go
app.Get("/users/{id}", func(c *mizu.Ctx) error {
	id := c.Param("id")
	return c.Text(200, "User ID: "+id)
})
```

When a request comes to `/users/42`, the handler reads `"42"` as the `{id}` parameter.

You can define multiple parameters:

```go
app.Get("/teams/{team}/members/{id}", func(c *mizu.Ctx) error {
	team := c.Param("team")
	id := c.Param("id")
	return c.Text(200, "Team "+team+" Member "+id)
})
```

### Query strings

For URL queries like `/search?q=go`, use `c.Query()`:

```go
app.Get("/search", func(c *mizu.Ctx) error {
	q := c.Query("q")
	return c.Text(200, "Search for "+q)
})
```

### Grouping routes

Use `Group` to organize routes under a shared prefix.

```go
app.Group("/api", func(g *mizu.Router) {
	g.Get("/status", func(c *mizu.Ctx) error {
		return c.JSON(200, map[string]string{"status": "ok"})
	})
	g.Get("/users", func(c *mizu.Ctx) error {
		return c.JSON(200, []string{"alice", "bob"})
	})
})
```

This registers `/api/status` and `/api/users` in one block.
Groups help you organize versioned APIs or related endpoints.

### Mounting other handlers

You can mount any `http.Handler` directly.
This is useful for integrating third-party tools or static file servers.

```go
app.Mount("/admin", adminHandler)
```

You can also serve static files:

```go
app.Static("/assets/", http.Dir("public"))
```

If you embed files using Go’s `embed` package:

```go
//go:embed public/*
var publicFS embed.FS

app.Static("/assets/", http.FS(publicFS))
```

### Not found handler

If no route matches, Mizu uses a default 404 page.
You can replace it with your own handler:

```go
app.NotFound(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
	http.Error(w, "Page not found", http.StatusNotFound)
}))
```

### Error handling

If a handler returns an error or panics, Mizu passes it to the central error handler you set with `ErrorHandler`.

```go
app.ErrorHandler(func(c *mizu.Ctx, err error) {
	c.Logger().Error("failed", "error", err)
	_ = c.JSON(500, map[string]string{"error": "internal"})
})
```

This keeps your error logic in one place and makes responses consistent.
